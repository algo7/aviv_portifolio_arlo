!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(c){function e(){}function u(e,t){m.ev.on(i+e+w,t)}function d(e,t,i,o){var r=document.createElement("div");return r.className="mfp-"+e,i&&(r.innerHTML=i),o?t&&t.appendChild(r):(r=c(r),t&&r.appendTo(t)),r}function h(e,t){m.ev.triggerHandler(i+e,t),m.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),m.st.callbacks[e]&&m.st.callbacks[e].apply(m,c.isArray(t)?t:[t]))}function p(e){return e===t&&m.currTemplate.closeBtn||(m.currTemplate.closeBtn=c(m.st.closeMarkup.replace("%title%",m.st.tClose)),t=e),m.currTemplate.closeBtn}function n(){c.magnificPopup.instance||((m=new e).init(),c.magnificPopup.instance=m)}var m,o,f,r,y,t,l="Close",g="BeforeClose",v="MarkupParse",b="Open",s="Change",i="mfp",w="."+i,x="mfp-ready",a="mfp-removing",T="mfp-prevent-close",P=!!window.jQuery,_=c(window);e.prototype={constructor:e,init:function(){var e=navigator.appVersion;m.isLowIE=m.isIE8=document.all&&!document.addEventListener,m.isAndroid=/android/gi.test(e),m.isIOS=/iphone|ipad|ipod/gi.test(e),m.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),m.probablyMobile=m.isAndroid||m.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),f=c(document),m.popupsCache={}},open:function(e){if(!1===e.isObj){m.items=e.items.toArray(),m.index=0;for(var t,i=e.items,o=0;o<i.length;o++)if((t=i[o]).parsed&&(t=t.el[0]),t===e.el[0]){m.index=o;break}}else m.items=c.isArray(e.items)?e.items:[e.items],m.index=e.index||0;if(!m.isOpen){m.types=[],y="",e.mainEl&&e.mainEl.length?m.ev=e.mainEl.eq(0):m.ev=f,e.key?(m.popupsCache[e.key]||(m.popupsCache[e.key]={}),m.currTemplate=m.popupsCache[e.key]):m.currTemplate={},m.st=c.extend(!0,{},c.magnificPopup.defaults,e),m.fixedContentPos="auto"===m.st.fixedContentPos?!m.probablyMobile:m.st.fixedContentPos,m.st.modal&&(m.st.closeOnContentClick=!1,m.st.closeOnBgClick=!1,m.st.showCloseBtn=!1,m.st.enableEscapeKey=!1),m.bgOverlay||(m.bgOverlay=d("bg").on("click"+w,function(){m.close()}),m.wrap=d("wrap").attr("tabindex",-1).on("click"+w,function(e){m._checkIfClose(e.target)&&m.close()}),m.container=d("container",m.wrap)),m.contentContainer=d("content"),m.st.preloader&&(m.preloader=d("preloader",m.container,m.st.tLoading));var r=c.magnificPopup.modules;for(o=0;o<r.length;o++){var n=(n=r[o]).charAt(0).toUpperCase()+n.slice(1);m["init"+n].call(m)}h("BeforeOpen"),m.st.showCloseBtn&&(m.st.closeBtnInside?(u(v,function(e,t,i,o){i.close_replaceWith=p(o.type)}),y+=" mfp-close-btn-in"):m.wrap.append(p())),m.st.alignTop&&(y+=" mfp-align-top"),m.fixedContentPos?m.wrap.css({overflow:m.st.overflowY,overflowX:"hidden",overflowY:m.st.overflowY}):m.wrap.css({top:_.scrollTop(),position:"absolute"}),!1!==m.st.fixedBgPos&&("auto"!==m.st.fixedBgPos||m.fixedContentPos)||m.bgOverlay.css({height:f.height(),position:"absolute"}),m.st.enableEscapeKey&&f.on("keyup"+w,function(e){27===e.keyCode&&m.close()}),_.on("resize"+w,function(){m.updateSize()}),m.st.closeOnContentClick||(y+=" mfp-auto-cursor"),y&&m.wrap.addClass(y);var s=m.wH=_.height(),a={};m.fixedContentPos&&m._hasScrollBar(s)&&((l=m._getScrollbarSize())&&(a.marginRight=l)),m.fixedContentPos&&(m.isIE7?c("body, html").css("overflow","hidden"):a.overflow="hidden");var l=m.st.mainClass;return m.isIE7&&(l+=" mfp-ie7"),l&&m._addClassToMFP(l),m.updateItemHTML(),h("BuildControls"),c("html").css(a),m.bgOverlay.add(m.wrap).prependTo(m.st.prependTo||c(document.body)),m._lastFocusedEl=document.activeElement,setTimeout(function(){m.content?(m._addClassToMFP(x),m._setFocus()):m.bgOverlay.addClass(x),f.on("focusin"+w,m._onFocusIn)},16),m.isOpen=!0,m.updateSize(s),h(b),e}m.updateItemHTML()},close:function(){m.isOpen&&(h(g),m.isOpen=!1,m.st.removalDelay&&!m.isLowIE&&m.supportsTransition?(m._addClassToMFP(a),setTimeout(function(){m._close()},m.st.removalDelay)):m._close())},_close:function(){h(l);var e=a+" "+x+" ";m.bgOverlay.detach(),m.wrap.detach(),m.container.empty(),m.st.mainClass&&(e+=m.st.mainClass+" "),m._removeClassFromMFP(e),m.fixedContentPos&&(e={marginRight:""},m.isIE7?c("body, html").css("overflow",""):e.overflow="",c("html").css(e)),f.off("keyup.mfp focusin"+w),m.ev.off(w),m.wrap.attr("class","mfp-wrap").removeAttr("style"),m.bgOverlay.attr("class","mfp-bg"),m.container.attr("class","mfp-container"),!m.st.showCloseBtn||m.st.closeBtnInside&&!0!==m.currTemplate[m.currItem.type]||m.currTemplate.closeBtn&&m.currTemplate.closeBtn.detach(),m.st.autoFocusLast&&m._lastFocusedEl&&c(m._lastFocusedEl).focus(),m.currItem=null,m.content=null,m.currTemplate=null,m.prevHeight=0,h("AfterClose")},updateSize:function(e){var t;m.isIOS?(t=document.documentElement.clientWidth/window.innerWidth,t=window.innerHeight*t,m.wrap.css("height",t),m.wH=t):m.wH=e||_.height(),m.fixedContentPos||m.wrap.css("height",m.wH),h("Resize")},updateItemHTML:function(){var e=m.items[m.index];m.contentContainer.detach(),m.content&&m.content.detach(),e.parsed||(e=m.parseEl(m.index));var t=e.type;h("BeforeChange",[m.currItem?m.currItem.type:"",t]),m.currItem=e,m.currTemplate[t]||(i=!!m.st[t]&&m.st[t].markup,h("FirstMarkupParse",i),m.currTemplate[t]=!i||c(i)),r&&r!==e.type&&m.container.removeClass("mfp-"+r+"-holder");var i=m["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,m.currTemplate[t]);m.appendContent(i,t),e.preloaded=!0,h(s,e),r=e.type,m.container.prepend(m.contentContainer),h("AfterChange")},appendContent:function(e,t){(m.content=e)?m.st.showCloseBtn&&m.st.closeBtnInside&&!0===m.currTemplate[t]?m.content.find(".mfp-close").length||m.content.append(p()):m.content=e:m.content="",h("BeforeAppend"),m.container.addClass("mfp-"+t+"-holder"),m.contentContainer.append(m.content)},parseEl:function(e){var t,i=m.items[e];if((i=i.tagName?{el:c(i)}:(t=i.type,{data:i,src:i.src})).el){for(var o=m.types,r=0;r<o.length;r++)if(i.el.hasClass("mfp-"+o[r])){t=o[r];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=t||m.st.type||"inline",i.index=e,i.parsed=!0,m.items[e]=i,h("ElementParse",i),m.items[e]},addGroup:function(t,i){function e(e){e.mfpEl=this,m._openClick(e,t,i)}var o="click.magnificPopup";(i=i||{}).mainEl=t,i.items?(i.isObj=!0,t.off(o).on(o,e)):(i.isObj=!1,i.delegate?t.off(o).on(o,i.delegate,e):(i.items=t).off(o).on(o,e))},_openClick:function(e,t,i){if((void 0!==i.midClick?i:c.magnificPopup.defaults).midClick||!(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var o=(void 0!==i.disableOn?i:c.magnificPopup.defaults).disableOn;if(o)if(c.isFunction(o)){if(!o.call(m))return!0}else if(_.width()<o)return!0;e.type&&(e.preventDefault(),m.isOpen&&e.stopPropagation()),i.el=c(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),m.open(i)}},updateStatus:function(e,t){var i;m.preloader&&(o!==e&&m.container.removeClass("mfp-s-"+o),t||"loading"!==e||(t=m.st.tLoading),h("UpdateStatus",i={status:e,text:t}),e=i.status,t=i.text,m.preloader.html(t),m.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),m.container.addClass("mfp-s-"+e),o=e)},_checkIfClose:function(e){if(!c(e).hasClass(T)){var t=m.st.closeOnContentClick,i=m.st.closeOnBgClick;if(t&&i)return!0;if(!m.content||c(e).hasClass("mfp-close")||m.preloader&&e===m.preloader[0])return!0;if(e===m.content[0]||c.contains(m.content[0],e)){if(t)return!0}else if(i&&c.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){m.bgOverlay.addClass(e),m.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),m.wrap.removeClass(e)},_hasScrollBar:function(e){return(m.isIE7?f.height():document.body.scrollHeight)>(e||_.height())},_setFocus:function(){(m.st.focus?m.content.find(m.st.focus).eq(0):m.wrap).focus()},_onFocusIn:function(e){return e.target===m.wrap[0]||c.contains(m.wrap[0],e.target)?void 0:(m._setFocus(),!1)},_parseMarkup:function(r,e,t){var n;t.data&&(e=c.extend(t.data,e)),h(v,[r,e,t]),c.each(e,function(e,t){return void 0===t||!1===t||void(1<(n=e.split("_")).length?0<(i=r.find(w+"-"+n[0])).length&&("replaceWith"===(o=n[1])?i[0]!==t[0]&&i.replaceWith(t):"img"===o?i.is("img")?i.attr("src",t):i.replaceWith(c("<img>").attr("src",t).attr("class",i.attr("class"))):i.attr(n[1],t)):r.find(w+"-"+e).html(t));var i,o})},_getScrollbarSize:function(){var e;return void 0===m.scrollbarSize&&((e=document.createElement("div")).style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),m.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),m.scrollbarSize}},c.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return n(),(e=e?c.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return c.magnificPopup.instance&&c.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(c.magnificPopup.defaults[e]=t.options),c.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},c.fn.magnificPopup=function(e){n();var t,i,o,r=c(this);return"string"==typeof e?"open"===e?(t=P?r.data("magnificPopup"):r[0].magnificPopup,i=parseInt(arguments[1],10)||0,o=t.items?t.items[i]:(o=r,t.delegate&&(o=o.find(t.delegate)),o.eq(i)),m._openClick({mfpEl:o},r,t)):m.isOpen&&m[e].apply(m,Array.prototype.slice.call(arguments,1)):(e=c.extend(!0,{},e),P?r.data("magnificPopup",e):r[0].magnificPopup=e,m.addGroup(r,e)),r};function S(){E&&(C.after(E.addClass(k)).detach(),E=null)}var k,C,E,z="inline";c.magnificPopup.registerModule(z,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){m.types.push(z),u(l+"."+z,function(){S()})},getInline:function(e,t){if(S(),e.src){var i,o=m.st.inline,r=c(e.src);return r.length?((i=r[0].parentNode)&&i.tagName&&(C||(k=o.hiddenClass,C=d(k),k="mfp-"+k),E=r.after(C).detach().removeClass(k)),m.updateStatus("ready")):(m.updateStatus("error",o.tNotFound),r=c("<div>")),e.inlineElement=r}return m.updateStatus("ready"),m._parseMarkup(t,{},e),t}}});function I(){j&&c(document.body).removeClass(j)}function Y(){I(),m.req&&m.req.abort()}var j,A="ajax";c.magnificPopup.registerModule(A,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){m.types.push(A),j=m.st.ajax.cursor,u(l+"."+A,Y),u("BeforeChange."+A,Y)},getAjax:function(o){j&&c(document.body).addClass(j),m.updateStatus("loading");var e=c.extend({url:o.src,success:function(e,t,i){i={data:e,xhr:i};h("ParseAjax",i),m.appendContent(c(i.data),A),o.finished=!0,I(),m._setFocus(),setTimeout(function(){m.wrap.addClass(x)},16),m.updateStatus("ready"),h("AjaxContentAdded")},error:function(){I(),o.finished=o.loadError=!0,m.updateStatus("error",m.st.ajax.tError.replace("%url%",o.src))}},m.st.ajax.settings);return m.req=c.ajax(e),""}}});var M;c.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=m.st.image,t=".image";m.types.push("image"),u(b+t,function(){"image"===m.currItem.type&&e.cursor&&c(document.body).addClass(e.cursor)}),u(l+t,function(){e.cursor&&c(document.body).removeClass(e.cursor),_.off("resize"+w)}),u("Resize"+t,m.resizeImage),m.isLowIE&&u("AfterChange",m.resizeImage)},resizeImage:function(){var e,t=m.currItem;t&&t.img&&m.st.image.verticalFit&&(e=0,m.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",m.wH-e))},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,M&&clearInterval(M),e.isCheckingImgSize=!1,h("ImageHasSize",e),e.imgHidden&&(m.content&&m.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var i=0,o=t.img[0],r=function(e){M&&clearInterval(M),M=setInterval(function(){return 0<o.naturalWidth?void m._onImageHasSize(t):(200<i&&clearInterval(M),void(3===++i?r(10):40===i?r(50):100===i&&r(500)))},e)};r(1)},getImage:function(e,t){var i,o=0,r=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===m.currItem&&(m._onImageHasSize(e),m.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,h("ImageLoadComplete")):++o<200?setTimeout(r,100):n())},n=function(){e&&(e.img.off(".mfploader"),e===m.currItem&&(m._onImageHasSize(e),m.updateStatus("error",s.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},s=m.st.image,a=t.find(".mfp-img");return a.length&&((i=document.createElement("img")).className="mfp-img",e.el&&e.el.find("img").length&&(i.alt=e.el.find("img").attr("alt")),e.img=c(i).on("load.mfploader",r).on("error.mfploader",n),i.src=e.src,a.is("img")&&(e.img=e.img.clone()),0<(i=e.img[0]).naturalWidth?e.hasSize=!0:i.width||(e.hasSize=!1)),m._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=m.st.image.titleSrc;if(t){if(c.isFunction(t))return t.call(m,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),m.resizeImage(),e.hasSize?(M&&clearInterval(M),e.loadError?(t.addClass("mfp-loading"),m.updateStatus("error",s.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),m.updateStatus("ready"))):(m.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),m.findImageSize(e))),t}}});var R;c.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,t,i,o,r,n,s=m.st.zoom,a=".zoom";s.enabled&&m.supportsTransition&&(o=s.duration,r=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+s.duration/1e3+"s "+s.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},e="transition";return o["-webkit-"+e]=o["-moz-"+e]=o["-o-"+e]=o[e]=i,t.css(o),t},n=function(){m.content.css("visibility","visible")},u("BuildControls"+a,function(){m._allowZoom()&&(clearTimeout(t),m.content.css("visibility","hidden"),(e=m._getItemToZoom())?((i=r(e)).css(m._getOffset()),m.wrap.append(i),t=setTimeout(function(){i.css(m._getOffset(!0)),t=setTimeout(function(){n(),setTimeout(function(){i.remove(),e=i=null,h("ZoomAnimationEnded")},16)},o)},16)):n())}),u(g+a,function(){if(m._allowZoom()){if(clearTimeout(t),m.st.removalDelay=o,!e){if(!(e=m._getItemToZoom()))return;i=r(e)}i.css(m._getOffset(!0)),m.wrap.append(i),m.content.css("visibility","hidden"),setTimeout(function(){i.css(m._getOffset())},16)}}),u(l+a,function(){m._allowZoom()&&(n(),i&&i.remove(),e=null)}))},_allowZoom:function(){return"image"===m.currItem.type},_getItemToZoom:function(){return!!m.currItem.hasSize&&m.currItem.img},_getOffset:function(e){var t=e?m.currItem.img:m.st.zoom.opener(m.currItem.el||m.currItem),i=t.offset(),o=parseInt(t.css("padding-top"),10),e=parseInt(t.css("padding-bottom"),10);i.top-=c(window).scrollTop()-o;o={width:t.width(),height:(P?t.innerHeight():t[0].offsetHeight)-e-o};return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R?o["-moz-transform"]=o.transform="translate("+i.left+"px,"+i.top+"px)":(o.left=i.left,o.top=i.top),o}}});function Q(e){var t;!m.currTemplate[L]||(t=m.currTemplate[L].find("iframe")).length&&(e||(t[0].src="//about:blank"),m.isIE8&&t.css("display",e?"block":"none"))}var L="iframe";c.magnificPopup.registerModule(L,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){m.types.push(L),u("BeforeChange",function(e,t,i){t!==i&&(t===L?Q():i===L&&Q(!0))}),u(l+"."+L,function(){Q()})},getIframe:function(e,t){var i=e.src,o=m.st.iframe;c.each(o.patterns,function(){return-1<i.indexOf(this.index)?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var r={};return o.srcAction&&(r[o.srcAction]=i),m._parseMarkup(t,r,e),m.updateStatus("ready"),t}}});function D(e){var t=m.items.length;return t-1<e?e-t:e<0?t+e:e}function O(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)}c.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=m.st.gallery,e=".mfp-gallery";return m.direction=!0,!(!n||!n.enabled)&&(y+=" mfp-gallery",u(b+e,function(){n.navigateByImgClick&&m.wrap.on("click"+e,".mfp-img",function(){return 1<m.items.length?(m.next(),!1):void 0}),f.on("keydown"+e,function(e){37===e.keyCode?m.prev():39===e.keyCode&&m.next()})}),u("UpdateStatus"+e,function(e,t){t.text&&(t.text=O(t.text,m.currItem.index,m.items.length))}),u(v+e,function(e,t,i,o){var r=m.items.length;i.counter=1<r?O(n.tCounter,o.index,r):""}),u("BuildControls"+e,function(){var e,t;1<m.items.length&&n.arrows&&!m.arrowLeft&&(t=n.arrowMarkup,e=m.arrowLeft=c(t.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(T),t=m.arrowRight=c(t.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(T),e.click(function(){m.prev()}),t.click(function(){m.next()}),m.container.append(e.add(t)))}),u(s+e,function(){m._preloadTimeout&&clearTimeout(m._preloadTimeout),m._preloadTimeout=setTimeout(function(){m.preloadNearbyImages(),m._preloadTimeout=null},16)}),void u(l+e,function(){f.off(e),m.wrap.off("click"+e),m.arrowRight=m.arrowLeft=null}))},next:function(){m.direction=!0,m.index=D(m.index+1),m.updateItemHTML()},prev:function(){m.direction=!1,m.index=D(m.index-1),m.updateItemHTML()},goTo:function(e){m.direction=e>=m.index,m.index=e,m.updateItemHTML()},preloadNearbyImages:function(){for(var e=m.st.gallery.preload,t=Math.min(e[0],m.items.length),i=Math.min(e[1],m.items.length),o=1;o<=(m.direction?i:t);o++)m._preloadItem(m.index+o);for(o=1;o<=(m.direction?t:i);o++)m._preloadItem(m.index-o)},_preloadItem:function(e){var t;e=D(e),m.items[e].preloaded||((t=m.items[e]).parsed||(t=m.parseEl(e)),h("LazyLoad",t),"image"===t.type&&(t.img=c('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,h("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0)}}});var F="retina";c.magnificPopup.registerModule(F,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){var i,o;1<window.devicePixelRatio&&(i=m.st.retina,o=i.ratio,1<(o=isNaN(o)?o():o)&&(u("ImageHasSize."+F,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/o,width:"100%"})}),u("ElementParse."+F,function(e,t){t.src=i.replaceSrc(t,o)})))}}}),n()}),function(e,t){"function"==typeof define&&define.amd?define(["module","exports"],t):"undefined"!=typeof exports?t(module,exports):(t(t={exports:{}},t.exports),e.WOW=t.exports)}(this,function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return 0<=t.indexOf(e)}function o(e,t,i){null!=e.addEventListener?e.addEventListener(t,i,!1):null!=e.attachEvent?e.attachEvent("on"+t,i):e[t]=i}function n(e,t,i){null!=e.removeEventListener?e.removeEventListener(t,i,!1):null!=e.detachEvent?e.detachEvent("on"+t,i):delete e[t]}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),e},a=window.WeakMap||window.MozWeakMap||(s(h,[{key:"get",value:function(e){for(var t=0;t<this.keys.length;t++)if(this.keys[t]===e)return this.values[t]}},{key:"set",value:function(e,t){for(var i=0;i<this.keys.length;i++)if(this.keys[i]===e)return this.values[i]=t,this;return this.keys.push(e),this.values.push(t),this}}]),h),l=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(s(d,[{key:"observe",value:function(){}}]),d.notSupported=!0,d),c=window.getComputedStyle||function(i){var o=/(\-([a-z]){1})/g;return{getPropertyValue:function(e){"float"===e&&(e="styleFloat"),o.test(e)&&e.replace(o,function(e,t){return t.toUpperCase()});var t=i.currentStyle;return(null!=t?t[e]:void 0)||null}}},s=(s(u,[{key:"init",value:function(){this.element=window.document.documentElement,r(document.readyState,["interactive","complete"])?this.start():o(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var n=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var e=0;e<this.boxes.length;e++){var t=this.boxes[e];this.applyStyle(t,!0)}this.disabled()||(o(this.config.scrollContainer||window,"scroll",this.scrollHandler),o(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live&&new l(function(e){for(var t=0;t<e.length;t++)for(var i=e[t],o=0;o<i.addedNodes.length;o++){var r=i.addedNodes[o];n.doSync(r)}}).observe(document.body,{childList:!0,subtree:!0})}},{key:"stop",value:function(){this.stopped=!0,n(this.config.scrollContainer||window,"scroll",this.scrollHandler),n(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){l.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(e){if(null!=e||(e=this.element),1===e.nodeType)for(var t=(e=e.parentNode||e).querySelectorAll("."+this.config.boxClass),i=0;i<t.length;i++){var o=t[i];r(o,this.all)||(this.boxes.push(o),this.all.push(o),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(o,!0),this.scrolled=!0)}}},{key:"show",value:function(e){return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(e),t=e,i=this.wowEvent,null!=t.dispatchEvent?t.dispatchEvent(i):i in(null!=t)?t[i]():"on"+i in(null!=t)&&t["on"+i](),this.config.resetAnimation&&(o(e,"animationend",this.resetAnimation),o(e,"oanimationend",this.resetAnimation),o(e,"webkitAnimationEnd",this.resetAnimation),o(e,"MSAnimationEnd",this.resetAnimation)),e;var t,i}},{key:"applyStyle",value:function(e,t){var i=this,o=e.getAttribute("data-wow-duration"),r=e.getAttribute("data-wow-delay"),n=e.getAttribute("data-wow-iteration");return this.animate(function(){return i.customStyle(e,t,o,r,n)})}},{key:"resetStyle",value:function(){for(var e=0;e<this.boxes.length;e++)this.boxes[e].style.visibility="visible"}},{key:"resetAnimation",value:function(e){0<=e.type.toLowerCase().indexOf("animationend")&&((e=e.target||e.srcElement).className=e.className.replace(this.config.animateClass,"").trim())}},{key:"customStyle",value:function(e,t,i,o,r){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",i&&this.vendorSet(e.style,{animationDuration:i}),o&&this.vendorSet(e.style,{animationDelay:o}),r&&this.vendorSet(e.style,{animationIterationCount:r}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e}},{key:"vendorSet",value:function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];e[""+i]=o;for(var r=0;r<this.vendors.length;r++)e[""+this.vendors[r]+i.charAt(0).toUpperCase()+i.substr(1)]=o}}},{key:"vendorCSS",value:function(e,t){for(var i=c(e),o=i.getPropertyCSSValue(t),r=0;r<this.vendors.length;r++)var n=this.vendors[r],o=o||i.getPropertyCSSValue("-"+n+"-"+t);return o}},{key:"animationName",value:function(t){var i=void 0;try{i=this.vendorCSS(t,"animation-name").cssText}catch(e){i=c(t).getPropertyValue("animation-name")}return"none"===i?"":i}},{key:"cacheAnimationName",value:function(e){return this.animationNameCache.set(e,this.animationName(e))}},{key:"cachedAnimationName",value:function(e){return this.animationNameCache.get(e)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var e=[],t=0;t<this.boxes.length;t++){var i=this.boxes[t];i&&(this.isVisible(i)?this.show(i):e.push(i))}this.boxes=e,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(e){for(;void 0===e.offsetTop;)e=e.parentNode;for(var t=e.offsetTop;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}},{key:"isVisible",value:function(e){var t=e.getAttribute("data-wow-offset")||this.config.offset,i=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,o=i+Math.min(this.element.clientHeight,"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight)-t,t=this.offsetTop(e),e=t+e.clientHeight;return t<=o&&i<=e}},{key:"disabled",value:function(){return!this.config.mobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}]),u);function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,u),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate="requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()},this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=function(e,t){for(var i in t){var o;null==e[i]&&(o=t[i],e[i]=o)}return e}(e,this.defaults),null!=e.scrollContainer&&(this.config.scrollContainer=document.querySelector(e.scrollContainer)),this.animationNameCache=new a,this.wowEvent=function(e,t,i,o){var r=!(arguments.length<=1||void 0===t)&&t,t=!(arguments.length<=2||void 0===i)&&i,i=arguments.length<=3||void 0===o?null:o,o=void 0;return null!=document.createEvent?(o=document.createEvent("CustomEvent")).initCustomEvent(e,r,t,i):null!=document.createEventObject?(o=document.createEventObject()).eventType=e:o.eventName=e,o}(this.config.boxClass)}function d(){i(this,d),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}function h(){i(this,h),this.keys=[],this.values=[]}function p(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.default=s,e.exports=t.default}),function(v){"use strict";function e(e,t){this.elmt=e,this.settings=v.extend({},o,v.vegas.defaults,t),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.ended=!1,this.$elmt=v(e),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.first=!0,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array==0&&(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array==0&&(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit"in document.body.style,transition:"transition"in document.body.style||"WebkitTransition"in document.body.style,video:v.vegas.isVideoCompatible()},!0===this.settings.shuffle&&this.shuffle(),this._init()}var o={slide:0,delay:5e3,loop:!0,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!0,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",firstTransition:null,firstTransitionDuration:null,transition:"fade",transitionDuration:1e3,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],slidesToKeep:1,init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},r={};e.prototype={_init:function(){var e,t,i="BODY"===this.elmt.tagName,o=this.settings.timer,r=this.settings.overlay,n=this;this._preload(),i||(this.$elmt.css("height",this.$elmt.css("height")),e=v('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding")),this.$elmt.css("padding")||e.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right")),this.$elmt.clone(!0).children().appendTo(e),this.elmt.innerHTML=""),o&&this.support.transition&&(t=v('<div class="vegas-timer"><div class="vegas-timer-progress">'),this.$timer=t,this.$elmt.prepend(t)),r&&(t=v('<div class="vegas-overlay">'),"string"==typeof r&&t.css("background-image","url("+r+")"),this.$overlay=t,this.$elmt.prepend(t)),this.$elmt.addClass("vegas-container"),i||this.$elmt.append(e),setTimeout(function(){n.trigger("init"),n._goto(n.slide),n.settings.autoplay&&n.trigger("play")},1)},_preload:function(){for(var e=0;e<this.settings.slides.length;e++)(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[e].src&&((new Image).src=this.settings.slides[e].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[e].video&&(this.settings.slides[e].video instanceof Array?this._video(this.settings.slides[e].video):this._video(this.settings.slides[e].video.src))},_random:function(e){return e[Math.floor(Math.random()*e.length)]},_slideShow:function(){var e=this;1<this.total&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){e.next()},this._options("delay")))},_timer:function(e){var t=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.ended||this.paused||this.noshow||e&&setTimeout(function(){t.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",t._options("delay")-100+"ms")},100))},_video:function(e){var t,i,o=e.toString();return r[o]||(e instanceof Array==0&&(e=[e]),(t=document.createElement("video")).preload=!0,e.forEach(function(e){(i=document.createElement("source")).src=e,t.appendChild(i)}),r[o]=t)},_fadeOutSound:function(e,t){var i=this,o=t/10,r=e.volume-.09;0<r?(e.volume=r,setTimeout(function(){i._fadeOutSound(e,t)},o)):e.pause()},_fadeInSound:function(e,t){var i=this,o=t/10,r=e.volume+.09;r<1&&(e.volume=r,setTimeout(function(){i._fadeInSound(e,t)},o))},_options:function(e,t){return void 0===t&&(t=this.slide),(void 0!==this.settings.slides[t][e]?this.settings.slides[t]:this.settings)[e]},_goto:function(e){function t(){p._timer(!0),setTimeout(function(){f&&(p.support.transition?(n.css("transition","all "+y+"ms").addClass("vegas-transition-"+f+"-out"),n.each(function(){var e=n.find("video").get(0);e&&(e.volume=1,p._fadeOutSound(e,y))}),i.css("transition","all "+y+"ms").addClass("vegas-transition-"+f+"-in")):i.fadeIn(y));for(var e=0;e<n.length-p.settings.slidesToKeep;e++)n.eq(e).remove();p.trigger("walk"),p._slideShow()},100)}void 0===this.settings.slides[e]&&(e=0),this.slide=e;var i,o,r,n=this.$elmt.children(".vegas-slide"),s=this.settings.slides[e].src,a=this.settings.slides[e].video,l=this._options("delay"),c=this._options("align"),u=this._options("valign"),d=this._options("cover"),h=this._options("color")||this.$elmt.css("background-color"),p=this,m=n.length,f=this._options("transition"),y=this._options("transitionDuration"),g=this._options("animation"),e=this._options("animationDuration");this.settings.firstTransition&&this.first&&(f=this.settings.firstTransition||f),this.settings.firstTransitionDuration&&this.first&&(y=this.settings.firstTransitionDuration||y),this.first&&(this.first=!1),"repeat"!==d&&(!0===d?d="cover":!1===d&&(d="contain")),("random"===f||f instanceof Array)&&(f=f instanceof Array?this._random(f):this._random(this.transitions)),("random"===g||g instanceof Array)&&(g=g instanceof Array?this._random(g):this._random(this.animations)),("auto"===y||l<y)&&(y=l),"auto"===e&&(e=l),i=v('<div class="vegas-slide"></div>'),this.support.transition&&f&&i.addClass("vegas-transition-"+f),this.support.video&&a?((o=a instanceof Array?this._video(a):this._video(a.src)).loop=void 0===a.loop||a.loop,o.muted=void 0===a.mute||a.mute,!1===o.muted?(o.volume=0,this._fadeInSound(o,y)):o.pause(),a=v(o).addClass("vegas-video").css("background-color",h),this.support.objectFit?a.css("object-position",c+" "+u).css("object-fit",d).css("width","100%").css("height","100%"):"contain"===d&&a.css("width","100%").css("height","100%"),i.append(a)):(r=new Image,u=v('<div class="vegas-slide-inner"></div>').css("background-image",'url("'+s+'")').css("background-color",h).css("background-position",c+" "+u),"repeat"===d?u.css("background-repeat","repeat"):u.css("background-size",d),this.support.transition&&g&&u.addClass("vegas-animation-"+g).css("animation-duration",e+"ms"),i.append(u)),this.support.transition||i.css("display","none"),m?n.eq(m-1).after(i):this.$elmt.prepend(i),n.css("transition","all 0ms").each(function(){this.className="vegas-slide","VIDEO"===this.tagName&&(this.className+=" vegas-video"),f&&(this.className+=" vegas-transition-"+f,this.className+=" vegas-transition-"+f+"-in")}),p._timer(!1),o?(4===o.readyState&&(o.currentTime=0),o.play(),t()):(r.src=s,r.complete?t():r.onload=t)},_end:function(){this.ended=!0,this._timer(!1),this.trigger("end")},shuffle:function(){for(var e,t,i=this.total-1;0<i;i--)t=Math.floor(Math.random()*(i+1)),e=this.settings.slides[i],this.settings.slides[i]=this.settings.slides[t],this.settings.slides[t]=e},play:function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},pause:function(){this._timer(!1),this.paused=!0,this.trigger("pause")},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},jump:function(e){e<0||e>this.total-1||e===this.slide||(this.slide=e,this._goto(this.slide))},next:function(){if(this.slide++,this.slide>=this.total){if(!this.settings.loop)return this._end();this.slide=0}this._goto(this.slide)},previous:function(){if(this.slide--,this.slide<0){if(!this.settings.loop)return void this.slide++;this.slide=this.total-1}this._goto(this.slide)},trigger:function(e){var t="init"===e?[this.settings]:[this.slide,this.settings.slides[this.slide]];this.$elmt.trigger("vegas"+e,t),"function"==typeof this.settings[e]&&this.settings[e].apply(this.$elmt,t)},options:function(e,t){var i=this.settings.slides.slice();if("object"==typeof e)this.settings=v.extend({},o,v.vegas.defaults,e);else{if("string"!=typeof e)return this.settings;if(void 0===t)return this.settings[e];this.settings[e]=t}this.settings.slides!==i&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this._preload())},destroy:function(){clearTimeout(this.timeout),this.$elmt.removeClass("vegas-container"),this.$elmt.find("> .vegas-slide").remove(),this.$elmt.find("> .vegas-wrapper").clone(!0).children().appendTo(this.$elmt),this.$elmt.find("> .vegas-wrapper").remove(),this.settings.timer&&this.$timer.remove(),this.settings.overlay&&this.$overlay.remove(),this.elmt._vegas=null}},v.fn.vegas=function(t){var i,o=arguments,r=!1;if(void 0===t||"object"==typeof t)return this.each(function(){this._vegas||(this._vegas=new e(this,t))});if("string"==typeof t){if(this.each(function(){var e=this._vegas;if(!e)throw new Error("No Vegas applied to this element.");"function"==typeof e[t]&&"_"!==t[0]?i=e[t].apply(e,[].slice.call(o,1)):r=!0}),r)throw new Error('No method "'+t+'" in Vegas.');return void 0!==i?i:this}},v.vegas={},v.vegas.defaults=o,v.vegas.isVideoCompatible=function(){return!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}}(window.jQuery||window.Zepto);var ytp=ytp||{};function onYouTubePlayerAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function hexToRgb(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,o){return t+t+i+i+o+o});e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function clamp(e,t,i){return Math.min(Math.max(e,t),i)}function isInArray(e,t){return-1<t.indexOf(e)}!function(jQuery,ytp){var nAgt=navigator.userAgent,nameOffset,verOffset,ix,start,end;jQuery.browser||(jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10),-1!=(verOffset=nAgt.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=nAgt.indexOf("Trident")?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",start=nAgt.indexOf("rv:")+3,end=start+4,jQuery.browser.fullVersion=nAgt.substring(start,end)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)),-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion),jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.fn.CSSAnimate=function(c,u,d,h,p){function m(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}var e;return jQuery.support.CSStransition=void 0!==(e=(document.body||document.documentElement).style).transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition,this.each(function(){var e=this,t=jQuery(this);e.id=e.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(e.CSSAIsRunning&&e.eventType==i.type)e.CSSqueue=function(){t.CSSAnimate(c,u,d,h,p)};else if(e.CSSqueue=null,e.eventType=i.type,0!==t.length&&c){if(e.CSSAIsRunning=!0,"function"==typeof u&&(p=u,u=jQuery.fx.speeds._default),"function"==typeof d&&(p=d,d=0),"function"==typeof h&&(p=h,h="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof u)for(var o in jQuery.fx.speeds){if(u==o){u=jQuery.fx.speeds[o];break}u=jQuery.fx.speeds._default}if(u=u||jQuery.fx.speeds._default,jQuery.support.CSStransition){(i={default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"})[h]&&(h=i[h]);var r="",n="transitionEnd";for(a in jQuery.browser.webkit?(r="-webkit-",n="webkitTransitionEnd"):jQuery.browser.mozilla?(r="-moz-",n="transitionend"):jQuery.browser.opera?(r="-o-",n="otransitionend"):jQuery.browser.msie&&(r="-ms-",n="msTransitionEnd"),i=[],c)"transform"===(o=a)&&(c[o=r+"transform"]=c[a],delete c[a]),"filter"===o&&(c[o=r+"filter"]=c[a],delete c[a]),"transform-origin"!==o&&"origin"!==o||(c[o=r+"transform-origin"]=c[a],delete c[a]),"x"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" translateX("+m(c[a],"px")+")",delete c[a]),"y"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" translateY("+m(c[a],"px")+")",delete c[a]),"z"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" translateZ("+m(c[a],"px")+")",delete c[a]),"rotate"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" rotate("+m(c[a],"deg")+")",delete c[a]),"rotateX"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" rotateX("+m(c[a],"deg")+")",delete c[a]),"rotateY"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" rotateY("+m(c[a],"deg")+")",delete c[a]),"rotateZ"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" rotateZ("+m(c[a],"deg")+")",delete c[a]),"scale"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" scale("+m(c[a],"")+")",delete c[a]),"scaleX"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" scaleX("+m(c[a],"")+")",delete c[a]),"scaleY"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" scaleY("+m(c[a],"")+")",delete c[a]),"scaleZ"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" scaleZ("+m(c[a],"")+")",delete c[a]),"skew"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" skew("+m(c[a],"deg")+")",delete c[a]),"skewX"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" skewX("+m(c[a],"deg")+")",delete c[a]),"skewY"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" skewY("+m(c[a],"deg")+")",delete c[a]),"perspective"===o&&(c[o=r+"transform"]=c[o]||"",c[o]+=" perspective("+m(c[a],"px")+")",delete c[a]),i.indexOf(o)<0&&i.push(o.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}));function s(){t.off(n+"."+e.id),clearTimeout(e.timeout),t.css(r+"transition",""),"function"==typeof p&&p(t),e.called=!0,e.CSSAIsRunning=!1,"function"==typeof e.CSSqueue&&(e.CSSqueue(),e.CSSqueue=null)}var a=i.join(","),l={};jQuery.extend(l,c),l[r+"transition-property"]=a,l[r+"transition-duration"]=u+"ms",l[r+"transition-delay"]=d+"ms",l[r+"transition-style"]="preserve-3d",l[r+"transition-timing-function"]=h,setTimeout(function(){t.one(n+"."+e.id,s),t.css(l)},1),e.timeout=setTimeout(function(){t.called||!p?(t.called=!1,e.CSSAIsRunning=!1):(t.css(r+"transition",""),p(t),e.CSSAIsRunning=!1,"function"==typeof e.CSSqueue&&(e.CSSqueue(),e.CSSqueue=null))},u+d+100)}else{for(var a in c)"transform"===a&&delete c[a],"filter"===a&&delete c[a],"transform-origin"===a&&delete c[a],"auto"===c[a]&&delete c[a];p&&"string"!=typeof p||(p="linear"),t.animate(c,u,p)}}})};var getYTPVideoID=function(e){var t,i;return 0<e.indexOf("youtu.be")?t=(i=0<(t=e.substr(e.lastIndexOf("/")+1,e.length)).indexOf("?list=")?t.substr(t.lastIndexOf("="),t.length):null)?t.substr(0,t.lastIndexOf("?")):t:i=-1<e.indexOf("http")?(t=e.match(/[\\?&]v=([^&#]*)/)[1],0<e.indexOf("list=")?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(t=15<e.length?null:e)?null:e,{videoID:t,playlistID:i}};jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.7.8",author:"Matteo Bicocchi",defaults:{containment:"body",ratio:"16/9",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:100,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnClick:!1,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");void 0!==property&&void 0!==property.vol&&(property.vol=0==property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property);var canGoFullscreen=!(jQuery.browser.msie||jQuery.browser.opera||self.location.href!=top.location.href);canGoFullscreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:!!$YTPlayer.attr("href")&&getYTPVideoID($YTPlayer.attr("href")).videoID,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:!!$YTPlayer.attr("href")&&getYTPVideoID($YTPlayer.attr("href")).playlistID;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations},v=document.createElement("video");v.canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay"),isPlayer,classN,retina,wrapper,tag;YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.opt.containment="self"==YTPlayer.opt.containment?jQuery(this):jQuery(YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),YTPlayer.isBackground&&ytp.backgroundIsInited||(isPlayer=YTPlayer.opt.containment.is(jQuery(this))&&0==jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&YTPlayer.isBackground?$YTPlayer.remove():(YTPlayer.opt.addRaster?(classN="dot"==YTPlayer.opt.addRaster?"raster-dot":"raster",retina=window.retina||1<window.devicePixelRatio,overlay.addClass(retina?classN+" retina":classN)):overlay.removeClass(function(e,t){var t=t.split(" "),i=[];return jQuery.each(t,function(e,t){/raster-.*/.test(t)&&i.push(t)}),i.push("retina"),i.join(" ")}),wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID),wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(wrapper.css({position:"fixed",top:0,left:0,zIndex:0,webkitTransform:"translateZ(0)"}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){$YTPlayer.find(".mb_YTPBar").addClass("visible")}).on("mouseleave",function(){$YTPlayer.find(".mb_YTPBar").removeClass("visible")}),ytp.YTAPIReady?setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100):(jQuery("#YTAPI").remove(),tag=jQuery("<script><\/script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/player_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"}),jQuery("head title").after(tag)),jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&YTPlayer.opt.stopMovieOnClick&&jQuery(document).off("mousedown.ytplayer").on("mousedown,.ytplayer",function(e){e=jQuery(e.target);(e.is("a")||e.parents().is("a"))&&$YTPlayer.pauseYTP()}),YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay=void 0===YTPlayer.opt.autoPlay?!!YTPlayer.isBackground:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol||100,jQuery.mbYTPlayer.getDataFromFeed(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){YTPlayer.isInit||(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.isPlayer?new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",videoId:YTPlayer.videoID,events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:YTPlayer.opt.opacity}),$YTPlayer.optimizeDisplay()},onStateChange:function(){}}}):new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){var t;YTPlayer.player=e.target,YTPlayer.isReady||(YTPlayer.isReady=!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),YTPlayer.opt.showControls&&jQuery(YTPlayer).buildYTPControls(),t=YTPlayer.opt.startAt||1,YTPlayer.player.setVolume(0),jQuery(YTPlayer).muteYTPVolume(),jQuery.mbYTPlayer.checkForState(YTPlayer),YTPlayer.checkForStartAt=setInterval(function(){var e=!(!jQuery.browser.mozilla||window.MediaSource)||YTPlayer.player.getVideoLoadedFraction()>t/YTPlayer.player.getDuration();0<YTPlayer.player.getDuration()&&YTPlayer.player.getCurrentTime()>=t&&e?(clearInterval(YTPlayer.checkForStartAt),YTPlayer.player.setVolume(0),jQuery(YTPlayer).muteYTPVolume(),"function"==typeof YTPlayer.opt.onReady&&YTPlayer.opt.onReady(YTPlayer),YTPlayer.opt.mute||jQuery(YTPlayer).unmuteYTP(),jQuery.mbYTPlayer.checkForState(YTPlayer),YTPlayer.player.pauseVideo(),setTimeout(function(){YTPlayer.canTrigger=!0,YTPlayer.opt.autoPlay?($YTPlayer.playYTP(),$YTPlayer.css("background-image","none"),YTPlayer.wrapper.CSSAnimate({opacity:YTPlayer.isAlone?1:YTPlayer.opt.opacity},2e3)):YTPlayer.player.pauseVideo()},100)):(YTPlayer.player.playVideo(),YTPlayer.player.seekTo(t,!0))},jQuery.browser.chrome?1e3:1))},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var controls=jQuery("#controlBar_"+YTPlayer.id),data=YTPlayer.opt,eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd",YTPlayer.player.pauseVideo();var startAt=YTPlayer.opt.startAt||1;data.loop?(YTPlayer.wrapper.css({opacity:0}),$YTPlayer.playYTP(),YTPlayer.player.seekTo(startAt,!0)):YTPlayer.isBackground||(YTPlayer.player.seekTo(startAt,!0),$YTPlayer.playYTP(),setTimeout(function(){$YTPlayer.pauseYTP()},10)),!data.loop&&YTPlayer.isBackground?YTPlayer.wrapper.CSSAnimate({opacity:0},2e3):data.loop&&YTPlayer.loop++,controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 1:eventType="YTPStart",jQuery.browser.chrome||YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.videoTitle||YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.videoTitle||YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:eventType="YTPBuffering",jQuery.browser.chrome||YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPevent=jQuery.Event(eventType);YTPevent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPevent)}}},onPlaybackQualityChange:function(e){var t=e.target.getPlaybackQuality(),e=jQuery.Event("YTPQualityChange");e.quality=t,jQuery(YTPlayer).trigger(e)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}}))}))})))})},getDataFromFeed:function(n){jQuery.browser.msie&&jQuery.browser.version<=9?("auto"==n.opt.ratio?n.opt.ratio="16/9":n.opt.ratio,n.hasData||(n.hasData=!0,setTimeout(function(){jQuery(n).trigger("YTPChanged")},100))):(jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//gdata.youtube.com/feeds/api/videos/"+n.videoID+"?v=2&alt=jsonc",function(e,t,i){n.dataReceived=!0,n.videoData=e.data,jQuery(n).trigger("YTPChanged");var o,r=jQuery.Event("YTPData");for(o in r.prop={},n.videoData)r.prop[o]=n.videoData[o];jQuery(n).trigger(r),n.videoTitle=n.videoData.title,"auto"==n.opt.ratio&&(n.videoData.aspectRatio&&"widescreen"===n.videoData.aspectRatio?n.opt.ratio="16/9":n.opt.ratio="4/3"),n.hasData||(n.hasData=!0,n.isPlayer&&(e=n.videoData.thumbnail.hqDefault,n.opt.containment.css({background:"rgba(0,0,0,0.5) url("+e+") center center",backgroundSize:"cover"})))}),setTimeout(function(){n.dataReceived||n.hasData||(n.hasData=!0,jQuery(n).trigger("YTPChanged"))},1500))},getVideoData:function(){return this.get(0).videoData},getVideoID:function(){return this.get(0).videoID||!1},setVideoQuality:function(e){var t=this.get(0);jQuery.browser.chrome||t.player.setPlaybackQuality(e)},YTPlaylist:function(e,t,i){var o=this.get(0);o.isPlayList=!0,t&&(e=jQuery.shuffle(e)),o.videoID||(o.videos=e,o.videoCounter=0,o.videoLength=e.length,jQuery(o).data("property",e[0]),jQuery(o).mb_YTPlayer()),"function"==typeof i&&jQuery(o).on("YTPChanged",function(){i(o)}),jQuery(o).on("YTPEnd",function(){jQuery(o).playNext()})},playNext:function(){var e=this.get(0);e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e.playerEl).css({opacity:0}),jQuery(e).changeMovie(e.videos[e.videoCounter])},playPrev:function(){var e=this.get(0);e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e.playerEl).css({opacity:0}),jQuery(e).changeMovie(e.videos[e.videoCounter])},changeMovie:function(e){var t=this.get(0);t.opt.startAt=0,t.opt.stopAt=0,t.opt.mute=!0,e&&jQuery.extend(t.opt,e),t.videoID=getYTPVideoID(t.opt.videoURL).videoID,jQuery(t).pauseYTP();var i=jQuery.browser.msie?1e3:0;jQuery(t.playerEl).CSSAnimate({opacity:0},i),setTimeout(function(){var e=jQuery.browser.chrome?"default":t.opt.quality;jQuery(t).getPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+t.videoID),1,e),jQuery(t).playYTP(),jQuery(t).one("YTPStart",function(){t.wrapper.CSSAnimate({opacity:t.isAlone?1:t.opt.opacity},1e3),jQuery(t.playerEl).CSSAnimate({opacity:1},i),t.opt.startAt&&t.player.seekTo(t.opt.startAt),jQuery.mbYTPlayer.checkForState(t),t.opt.autoPlay||jQuery(t).pauseYTP()}),t.opt.mute?jQuery(t).muteYTPVolume():jQuery(t).unmuteYTP()},i),t.opt.addRaster?(e=window.retina||1<window.devicePixelRatio,t.overlay.addClass(e?"raster retina":"raster")):(t.overlay.removeClass("raster"),t.overlay.removeClass("retina")),jQuery("#controlBar_"+t.id).remove(),t.opt.showControls&&jQuery(t).buildYTPControls(),jQuery.mbYTPlayer.getDataFromFeed(t),jQuery(t).optimizeDisplay()},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null,e.wrapper.remove(),jQuery("#controlBar_"+e.id).remove()},fullscreen:function(real){var YTPlayer=this.get(0);void 0===real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper,fullscreenchange;function RunPrefixMethod(e,t){for(var i,o,r=["webkit","moz","ms","o",""],n=0;n<r.length&&!e[i];){if(i=t,""==r[n]&&(i=i.substr(0,1).toLowerCase()+i.substr(1)),"undefined"!=(o=typeof e[i=r[n]+i]))return r=[r[n]],"function"==o?e[i]():e[i];n++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}real&&(fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange",jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen")?(jQuery(YTPlayer).setVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).setVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})),YTPlayer.isAlone?(real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0)},playYTP:function(){var e=this.get(0);void 0!==e.player&&(jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e).on("YTPStart",function(){jQuery(e).css("background-image","none")}))},toggleLoops:function(){var e=this.get(0),t=e.opt;1==t.loop?t.loop=0:(t.startAt?e.player.seekTo(t.startAt):e.player.playVideo(),t.loop=1)},stopYTP:function(){var e=this.get(0);jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo()},pauseYTP:function(){var e=this.get(0);e.opt;jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo()},seekToYTP:function(e){this.get(0).player.seekTo(e,!0)},setYTPVolume:function(e){var t=this.get(0);e||t.opt.vol||0!=t.player.getVolume()?!e&&0<t.player.getVolume()||e&&t.player.getVolume()==e?jQuery(t).muteYTPVolume():t.opt.vol=e:jQuery(t).unmuteYTP(),t.player.setVolume(t.opt.vol)},muteYTP:function(){var e=this.get(0);e.player.mute(),e.player.setVolume(0),jQuery("#controlBar_"+e.id).find(".mb_YTPMuteUnmute").html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),jQuery(e).trigger("YTPMuted")},unmuteYTP:function(){var e=this.get(0);e.player.unMute(),e.player.setVolume(e.opt.vol),jQuery("#controlBar_"+e.id).find(".mb_YTPMuteUnmute").html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),jQuery(e).trigger("YTPUnmuted")},manageYTPProgress:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),i=t.find(".mb_YTPProgress"),o=t.find(".mb_YTPLoaded"),r=t.find(".mb_YTPseekbar"),n=i.outerWidth(),t=Math.floor(e.player.getCurrentTime()),i=Math.floor(e.player.getDuration()),n=t*n/i,e=100*e.player.getVideoLoadedFraction();return o.css({left:0,width:e+"%"}),r.css({left:0,width:n}),{totalTime:i,currentTime:t}},buildYTPControls:function(){var YTPlayer=this.get(0),data=YTPlayer.opt,controlBar,buttonBar,playpause,MuteUnmute,idx,vURL,movieUrl,onlyVideo,progressBar,loadedBar,timeBar;data.showYTLogo=data.showYTLogo||data.printUrl,jQuery("#controlBar_"+YTPlayer.id).length||(controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide(),buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).pauseYTP():jQuery(YTPlayer).playYTP()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).unmuteYTP():jQuery(YTPlayer).muteYTP()}),idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL||"",vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL),movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).fullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,controlBar.find(".mb_YTPLoaded").css({width:0});e=Math.floor(YTPlayer.player.getDuration());YTPlayer.goto=timeBar.outerWidth()*e/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer.goto),!0),controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute"),progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(controlBar):(controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(controlBar)),controlBar.fadeIn())},checkForState:function(a){var e=a.opt.showControls?10:1e3;clearInterval(a.getState),a.getState=setInterval(function(){var e,t=jQuery(a).manageYTPProgress(),i=jQuery(a),o=jQuery("#controlBar_"+a.id),r=a.opt,n=a.opt.startAt||1,s=(s=a.opt.stopAt>a.opt.startAt?a.opt.stopAt:0)<a.player.getDuration()?s:0;a.player.time!=t.currentTime&&((e=jQuery.Event("YTPTime")).time=a.player.time,jQuery(a).trigger(e)),a.player.time=t.currentTime,0==a.player.getVolume()?i.addClass("isMuted"):i.removeClass("isMuted"),a.opt.showControls&&(t.totalTime?o.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(t.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(t.totalTime)):o.find(".mb_YTPTime").html("-- : -- / -- : --")),a.opt.stopMovieOnBlur&&(document.hasFocus()?document.hasFocus()&&!a.hasFocus&&(a.hasFocus=!0,i.playYTP()):1==a.state&&(a.hasFocus=!1,i.pauseYTP())),1==a.player.getPlayerState()&&(parseFloat(a.player.getDuration()-3)<a.player.getCurrentTime()||0<s&&parseFloat(a.player.getCurrentTime())>s)&&(a.isEnded||(a.isEnded=!0,setTimeout(function(){a.isEnded=!1},2e3),a.isPlayList?(clearInterval(a.getState),(s=jQuery.Event("YTPEnd")).time=a.player.time,jQuery(a).trigger(s)):r.loop?a.player.seekTo(n,!0):(a.player.pauseVideo(),a.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");e.time=a.player.time,jQuery(a).trigger(e),a.player.seekTo(n,!0),a.isBackground||(e=a.videoData.thumbnail.hqDefault,jQuery(a).css({background:"rgba(0,0,0,0.5) url("+e+") center center",backgroundSize:"cover"}))}))))},e)},formatTime:function(e){var t=Math.floor(e/60),e=Math.floor(e-60*t);return(t<=9?"0"+t:t)+" : "+(e<=9?"0"+e:e)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);if(e)return e.player.isMuted()?(jQuery(e).unmuteYTP(),!0):(jQuery(e).muteYTP(),!1)},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),t=e.opt,i=jQuery(e.playerEl),o={},e=e.wrapper;o.width=e.outerWidth(),o.height=e.outerHeight();e={};e.width=o.width+24*o.width/100,e.height="16/9"==t.ratio?Math.ceil(9*o.width/16):Math.ceil(3*o.width/4),e.marginTop=-(e.height-o.height)/2,e.marginLeft=-12*o.width/100,e.height<o.height&&(e.height=o.height+24*o.height/100,e.width="16/9"==t.ratio?Math.floor(16*o.height/9):Math.floor(4*o.height/3),e.marginTop=-12*o.height/100,e.marginLeft=-(e.width-o.width)/2),e.width+=100,e.height+=100,e.marginTop-=50,e.marginLeft-=50,i.css({width:e.width,height:e.height,marginTop:e.marginTop,marginLeft:e.marginLeft})},jQuery.shuffle=function(e){for(var t=e.slice(),i=t.length,o=i;o--;){var r=parseInt(Math.random()*i),n=t[o];t[o]=t[r],t[r]=n}return t},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.YTPlaylist,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildYTPControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.playYTP,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stopYTP,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pauseYTP,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekToYTP,jQuery.fn.muteYTP=jQuery.mbYTPlayer.muteYTP,jQuery.fn.unmuteYTP=jQuery.mbYTPlayer.unmuteYTP,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setYTPVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageYTPProgress,jQuery.fn.getDataFromFeed=jQuery.mbYTPlayer.getVideoData,jQuery.fn.mb_YTPlayer=jQuery.fn.YTPlayer,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.muteYTP,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmuteYTP}(jQuery,ytp),function(t,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("jquery")):t.jQueryBridget=i(t,t.jQuery)}(window,function(e,t){"use strict";var i=Array.prototype.slice,o=e.console,d=void 0===o?function(){}:function(e){o.error(e)};function r(l,c,u){(u=u||t||e.jQuery)&&(c.prototype.option||(c.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[l]=function(e){if("string"!=typeof e)return a=e,this.each(function(e,t){var i=u.data(t,l);i?(i.option(a),i._init()):(i=new c(t,a),u.data(t,l,i))}),this;var o,r,n,s,a,t=i.call(arguments,1);return r=t,s="$()."+l+'("'+(o=e)+'")',(e=this).each(function(e,t){var i=u.data(t,l);i?(t=i[o])&&"_"!=o.charAt(0)?(i=t.apply(i,r),n=void 0===n?i:n):d(s+" is not a valid method"):d(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==n?n:e},n(u))}function n(e){!e||e&&e.bridget||(e.bridget=r)}return n(t||e.jQuery),r}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},e=i[e]=i[e]||[];return-1==e.indexOf(t)&&e.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length){t=e.indexOf(t);return-1!=t&&e.splice(t,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var o=this._onceEvents&&this._onceEvents[e],r=0;r<i.length;r++){var n=i[r];o&&o[n]&&(this.off(e,n),delete o[n]),n.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function p(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},m=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],f=m.length;function y(e){e=getComputedStyle(e);return e||t("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var g,v=!1;function b(e){if(v||(v=!0,(h=document.createElement("div")).style.width="200px",h.style.padding="1px 2px 3px 4px",h.style.borderStyle="solid",h.style.borderWidth="1px 2px 3px 4px",h.style.boxSizing="border-box",(d=document.body||document.documentElement).appendChild(h),u=y(h),g=200==Math.round(p(u.width)),b.isBoxSizeOuter=g,d.removeChild(h)),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=y(e);if("none"==t.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<f;t++)e[m[t]]=0;return e}();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var o=i.isBorderBox="border-box"==t.boxSizing,r=0;r<f;r++){var n=m[r],s=t[n],s=parseFloat(s);i[n]=isNaN(s)?0:s}var a=i.paddingLeft+i.paddingRight,l=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,u=i.marginTop+i.marginBottom,d=i.borderLeftWidth+i.borderRightWidth,h=i.borderTopWidth+i.borderBottomWidth,e=o&&g,o=p(t.width);!1!==o&&(i.width=o+(e?0:a+d));o=p(t.height);return!1!==o&&(i.height=o+(e?0:l+h)),i.innerWidth=i.width-(a+d),i.innerHeight=i.height-(l+h),i.outerWidth=i.width+c,i.outerHeight=i.height+u,i}}return b}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var i=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var o=t[i]+"MatchesSelector";if(e[o])return o}}();return function(e,t){return e[i](t)}}),function(t,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("desandro-matches-selector")):t.fizzyUIUtils=i(t,t.matchesSelector)}(window,function(i,n){var c={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;c.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},c.removeFrom=function(e,t){t=e.indexOf(t);-1!=t&&e.splice(t,1)},c.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,n(e,t))return e},c.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},c.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.filterFindElements=function(e,o){e=c.makeArray(e);var r=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(o){n(e,o)&&r.push(e);for(var t=e.querySelectorAll(o),i=0;i<t.length;i++)r.push(t[i])}else r.push(e)}),r},c.debounceMethod=function(e,t,o){o=o||100;var r=e.prototype[t],n=t+"Timeout";e.prototype[t]=function(){var e=this[n];clearTimeout(e);var t=arguments,i=this;this[n]=setTimeout(function(){r.apply(i,t),delete i[n]},o)}},c.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},c.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var u=i.console;return c.htmlInit=function(a,l){c.docReady(function(){var e=c.toDashed(l),r="data-"+e,t=document.querySelectorAll("["+r+"]"),e=document.querySelectorAll(".js-"+e),e=c.makeArray(t).concat(c.makeArray(e)),n=r+"-options",s=i.jQuery;e.forEach(function(t){var e,i=t.getAttribute(r)||t.getAttribute(n);try{e=i&&JSON.parse(i)}catch(e){return void(u&&u.error("Error parsing "+r+" on "+t.className+": "+e))}var o=new a(t,e);s&&s.data(t,l,o)})})},c}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";var i=document.documentElement.style,o="string"==typeof i.transition?"transition":"WebkitTransition",r="string"==typeof i.transform?"transform":"WebkitTransform",n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],s={transform:r,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}e=a.prototype=Object.create(e.prototype);e.constructor=a,e._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},e.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},e.getSize=function(){this.size=t(this.element)},e.css=function(e){var t,i=this.element.style;for(t in e)i[s[t]||t]=e[t]},e.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=e[t?"left":"right"],r=e[i?"top":"bottom"],n=parseFloat(o),s=parseFloat(r),e=this.layout.size;-1!=o.indexOf("%")&&(n=n/100*e.width),-1!=r.indexOf("%")&&(s=s/100*e.height),n=isNaN(n)?0:n,s=isNaN(s)?0:s,n-=t?e.paddingLeft:e.paddingRight,s-=i?e.paddingTop:e.paddingBottom,this.position.x=n,this.position.y=s},e.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),r=i?"paddingLeft":"paddingRight",n=i?"left":"right",i=i?"right":"left",r=this.position.x+e[r];t[n]=this.getXValue(r),t[i]="";r=o?"paddingTop":"paddingBottom",i=o?"top":"bottom",o=o?"bottom":"top",r=this.position.y+e[r];t[i]=this.getYValue(r),t[o]="",this.css(t),this.emitEvent("layout",[this])},e.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},e.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},e._transitionTo=function(e,t){this.getPosition();var i=this.position.x,o=this.position.y,r=e==this.position.x&&t==this.position.y;this.setPosition(e,t),!r||this.isTransitioning?(i=e-i,t-=o,(o={}).transform=this.getTranslate(i,t),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})):this.layoutPosition()},e.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},e.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},e.moveTo=e._transitionTo,e.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},e._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},e.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t,i=this._transn;for(t in e.onTransitionEnd)i.onEnd[t]=e.onTransitionEnd[t];for(t in e.to)i.ingProperties[t]=!0,e.isCleaning&&(i.clean[t]=!0);e.from&&(this.css(e.from),this.element.offsetHeight,0),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var l="opacity,"+r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});e.enableTransition=function(){var e;this.isTransitioning||(e="number"==typeof(e=this.layout.options.transitionDuration)?e+"ms":e,this.css({transitionProperty:l,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(n,this,!1))},e.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},e.onotransitionend=function(e){this.ontransitionend(e)};var c={"-webkit-transform":"transform"};e.ontransitionend=function(e){var t,i;e.target===this.element&&(t=this._transn,i=c[e.propertyName]||e.propertyName,delete t.ingProperties[i],function(e){for(var t in e)return;return 1}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd&&(t.onEnd[i].call(this),delete t.onEnd[i]),this.emitEvent("transitionEnd",[this]))},e.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(n,this,!1),this.isTransitioning=!1},e._removeStyles=function(e){var t,i={};for(t in e)i[t]="";this.css(i)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return e.removeTransitionStyles=function(){this.css(u)},e.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},e.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},e.remove=function(){o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},e.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},e.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},e.getHideRevealTransitionEndProperty=function(e){var t,e=this.layout.options[e];if(e.opacity)return"opacity";for(t in e)return t},e.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},e.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},e.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(r,n){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,i,o){return n(r,e,t,i,o)}):"object"==typeof module&&module.exports?module.exports=n(r,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):r.Outlayer=n(r,r.EvEmitter,r.getSize,r.fizzyUIUtils,r.Outlayer.Item)}(window,function(e,t,r,o,n){"use strict";function i(){}var s=e.console,a=e.jQuery,l=0,c={};function u(e,t){var i=o.getQueryElement(e);i?(this.element=i,a&&(this.$element=a(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(t),t=++l,this.element.outlayerGUID=t,(c[t]=this)._create(),this._getOption("initLayout")&&this.layout()):s&&s.error("Bad element for "+this.constructor.namespace+": "+(i||e))}u.namespace="outlayer",u.Item=n,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=u.prototype;function h(e){function t(){e.apply(this,arguments)}return(t.prototype=Object.create(e.prototype)).constructor=t}o.extend(d,t.prototype),d.option=function(e){o.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,o=[],r=0;r<t.length;r++){var n=new i(t[r],this);o.push(n)}return o},d._filterFindItemElements=function(e){return o.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(e){return e.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),e=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=r(this.element)},d._getMeasurement=function(e,t){var i,o=this.options[e];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[e]=i?r(i)[t]:o):this[e]=0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},d._layoutItems=function(e,i){var o;this._emitCompleteOnItems("layout",e),e&&e.length&&(o=[],e.forEach(function(e){var t=this._getItemLayoutPosition(e);t.item=e,t.isInstant=i||e.isLayoutInstant,o.push(t)},this),this._processLayoutQueue(o))},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),e=t&&t[1],t=t&&t[2];if(!e.length)return 0;e=parseFloat(e);t=p[t]||1;return e*t}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,i,o,r){o?e.goTo(t,i):(e.stagger(r*this.stagger),e.moveTo(t,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){var e;!this._getOption("resizeContainer")||(e=this._getContainerSize())&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))},d._getContainerSize=i,d._setContainerMeasure=function(e,t){var i;void 0!==e&&((i=this.size).isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px")},d._emitCompleteOnItems=function(t,e){var i=this;function o(){i.dispatchEvent(t+"Complete",null,[e])}var r,n=e.length;function s(){++r==n&&o()}e&&n?(r=0,e.forEach(function(e){e.once(t,s)})):o()},d.dispatchEvent=function(e,t,i){var o=t?[t].concat(i):i;this.emitEvent(e,o),a&&(this.$element=this.$element||a(this.element),t?((t=a.Event(t)).type=e,this.$element.trigger(t,i)):this.$element.trigger(e,i))},d.ignore=function(e){e=this.getItem(e);e&&(e.isIgnored=!0)},d.unignore=function(e){e=this.getItem(e);e&&delete e.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){o.removeFrom(this.stamps,e),this.unignore(e)},this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=o.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=i,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,e=r(e);return{left:t.left-i.left-e.marginLeft,top:t.top-i.top-e.marginTop,right:i.right-t.right-e.marginRight,bottom:i.bottom-t.bottom-e.marginBottom}},d.handleEvent=o.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},o.debounceMethod(u,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=r(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){e=this._itemize(e);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(e){e=this.addItems(e);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(e){var t=this._itemize(e);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e))},d.reveal=function(e){var i;this._emitCompleteOnItems("reveal",e),e&&e.length&&(i=this.updateStagger(),e.forEach(function(e,t){e.stagger(t*i),e.reveal()}))},d.hide=function(e){var i;this._emitCompleteOnItems("hide",e),e&&e.length&&(i=this.updateStagger(),e.forEach(function(e,t){e.stagger(t*i),e.hide()}))},d.revealItemElements=function(e){e=this.getItems(e);this.reveal(e)},d.hideItemElements=function(e){e=this.getItems(e);this.hide(e)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},d.getItems=function(e){e=o.makeArray(e);var t=[];return e.forEach(function(e){e=this.getItem(e);e&&t.push(e)},this),t},d.remove=function(e){e=this.getItems(e);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(e){e.remove(),o.removeFrom(this.items,e)},this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){e=(e=o.getQueryElement(e))&&e.outlayerGUID;return e&&c[e]},u.create=function(e,t){var i=h(u);return i.defaults=o.extend({},u.defaults),o.extend(i.defaults,t),i.compatOptions=o.extend({},u.compatOptions),i.namespace=e,i.data=u.data,i.Item=h(n),o.htmlInit(i,e),a&&a.bridget&&a.bridget(e,i),i};var p={ms:1,s:1e3};return u.Item=n,u}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/item",["outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}var i=t.prototype=Object.create(e.Item.prototype),o=i._create;i._create=function(){this.id=this.layout.itemGUID++,o.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e,t=this.layout.options.getSortData,i=this.layout._sorters;for(e in t){var o=i[e];this.sortData[e]=o(this.element,this)}}};var r=i.destroy;return i.destroy=function(){r.apply(this,arguments),this.css({display:""})},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(t,i){"use strict";function o(e){(this.isotope=e)&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}var r=o.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(e){r[e]=function(){return i.prototype[e].apply(this.isotope,arguments)}}),r.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},r._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},r.getColumnWidth=function(){this.getSegmentSize("column","Width")},r.getRowHeight=function(){this.getSegmentSize("row","Height")},r.getSegmentSize=function(e,t){var i=e+t,o="outer"+t;this._getMeasurement(i,o),this[i]||(e=this.getFirstItemSize(),this[i]=e&&e[o]||this.isotope.size["inner"+t])},r.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},r.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},r.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},o.modes={},o.create=function(e,t){function i(){o.apply(this,arguments)}return(i.prototype=Object.create(r)).constructor=i,t&&(i.options=t),o.modes[i.prototype.namespace=e]=i},o}),function(e,t){"function"==typeof define&&define.amd?define("masonry-layout/masonry",["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,a){var t=e.create("masonry");t.compatOptions.fitWidth="isFitWidth";e=t.prototype;return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(i=(t=this.items[0])&&t.element,this.columnWidth=i&&a(i).outerWidth||this.containerWidth);var e=this.columnWidth+=this.gutter,t=this.containerWidth+this.gutter,i=t/e,e=e-t%e,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1)},e.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,e=a(e);this.containerWidth=e&&e.innerWidth},e._getItemLayoutPosition=function(e){e.getSize();for(var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth),i=Math.min(i,this.cols),o=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),t={x:this.columnWidth*o.col,y:o.y},r=o.y+e.size.outerHeight,n=i+o.col,s=o.col;s<n;s++)this.colYs[s]=r;return t},e._getTopColPosition=function(e){var t=this._getTopColGroup(e),e=Math.min.apply(Math,t);return{col:t.indexOf(e),y:e}},e._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],i=this.cols+1-e,o=0;o<i;o++)t[o]=this._getColGroupY(o,e);return t},e._getColGroupY=function(e,t){if(t<2)return this.colYs[e];t=this.colYs.slice(e,e+t);return Math.max.apply(Math,t)},e._getHorizontalColPosition=function(e,t){var i=this.horizontalColIndex%this.cols,i=1<e&&i+e>this.cols?0:i,t=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=t?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}},e._manageStamp=function(e){var t=a(e),i=this._getElementOffset(e),o=this._getOption("originLeft")?i.left:i.right,e=o+t.outerWidth,o=Math.floor(o/this.columnWidth),o=Math.max(0,o),r=Math.floor(e/this.columnWidth);r-=e%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var n=(this._getOption("originTop")?i.top:i.bottom)+t.outerHeight,s=o;s<=r;s++)this.colYs[s]=Math.max(n,this.colYs[s])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},e._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/masonry",["../layout-mode","masonry-layout/masonry"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";var i,e=e.create("masonry"),o=e.prototype,r={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(i in t.prototype)r[i]||(o[i]=t.prototype[i]);var n=o.measureColumns;o.measureColumns=function(){this.items=this.isotope.filteredItems,n.call(this)};var s=o._getOption;return o._getOption=function(e){return"fitWidth"==e?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:s.apply(this.isotope,arguments)},e}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows"),e=t.prototype;return e._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>i&&(this.x=0,this.y=this.maxY);i={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,i},e._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0}),e=t.prototype;return e._resetLayout=function(){this.y=0},e._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=e.size.outerHeight,{x:t,y:i}},e._getContainerSize=function(){return{height:this.y}},t}),function(s,a){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope-layout/js/item","isotope-layout/js/layout-mode","isotope-layout/js/layout-modes/masonry","isotope-layout/js/layout-modes/fit-rows","isotope-layout/js/layout-modes/vertical"],function(e,t,i,o,r,n){return a(s,e,t,i,o,r,n)}):"object"==typeof module&&module.exports?module.exports=a(s,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope-layout/js/item"),require("isotope-layout/js/layout-mode"),require("isotope-layout/js/layout-modes/masonry"),require("isotope-layout/js/layout-modes/fit-rows"),require("isotope-layout/js/layout-modes/vertical")):s.Isotope=a(s,s.Outlayer,s.getSize,s.matchesSelector,s.fizzyUIUtils,s.Isotope.Item,s.Isotope.LayoutMode)}(window,function(e,i,t,o,n,r,s){var a=e.jQuery,l=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},c=i.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=r,c.LayoutMode=s;r=c.prototype;r._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),i.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],s.modes)this._initLayoutMode(e)},r.reloadItems=function(){this.itemGUID=0,i.prototype.reloadItems.call(this)},r._itemize=function(){for(var e=i.prototype._itemize.apply(this,arguments),t=0;t<e.length;t++)e[t].id=this.itemGUID++;return this._updateItemsSortData(e),e},r._initLayoutMode=function(e){var t=s.modes[e],i=this.options[e]||{};this.options[e]=t.options?n.extend(t.options,i):i,this.modes[e]=new t(this)},r.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},r._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},r.arrange=function(e){this.option(e),this._getIsInstant();e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},r._init=r.arrange,r._hideReveal=function(e){this.reveal(e.needReveal),this.hide(e.needHide)},r._getIsInstant=function(){var e=this._getOption("layoutInstant"),e=void 0!==e?e:!this._isLayoutInited;return this._isInstant=e},r._bindArrangeComplete=function(){var e,t,i,o=this;function r(){e&&t&&i&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}this.once("layoutComplete",function(){e=!0,r()}),this.once("hideComplete",function(){t=!0,r()}),this.once("revealComplete",function(){i=!0,r()})},r._filter=function(e){for(var t=(t=this.options.filter)||"*",i=[],o=[],r=[],n=this._getFilterTest(t),s=0;s<e.length;s++){var a,l=e[s];l.isIgnored||((a=n(l))&&i.push(l),a&&l.isHidden?o.push(l):a||l.isHidden||r.push(l))}return{matches:i,needReveal:o,needHide:r}},r._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return o(e.element,t)}},r.updateSortData=function(e){e=e?(e=n.makeArray(e),this.getItems(e)):this.items;this._getSorters(),this._updateItemsSortData(e)},r._getSorters=function(){var e,t=this.options.getSortData;for(e in t){var i=t[e];this._sorters[e]=u(i)}},r._updateItemsSortData=function(e){for(var t=e&&e.length,i=0;t&&i<t;i++)e[i].updateSortData()};var u=function(e){if("string"!=typeof e)return e;var t=l(e).split(" "),i=t[0],o=i.match(/^\[(.+)\]$/),r=function(t,i){if(t)return function(e){return e.getAttribute(t)};return function(e){e=e.querySelector(i);return e&&e.textContent}}(o&&o[1],i),n=c.sortDataParsers[t[1]];return e=n?function(e){return e&&n(r(e))}:function(e){return e&&r(e)}};c.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},r._sort=function(){var e,s,a;this.options.sortBy&&(e=n.makeArray(this.options.sortBy),this._getIsSameSortBy(e)||(this.sortHistory=e.concat(this.sortHistory)),s=this.sortHistory,a=this.options.sortAscending,e=function(e,t){for(var i=0;i<s.length;i++){var o=s[i],r=e.sortData[o],n=t.sortData[o];if(n<r||r<n)return(n<r?1:-1)*((void 0!==a[o]?a[o]:a)?1:-1)}return 0},this.filteredItems.sort(e))},r._getIsSameSortBy=function(e){for(var t=0;t<e.length;t++)if(e[t]!=this.sortHistory[t])return!1;return!0},r._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},r._resetLayout=function(){i.prototype._resetLayout.call(this),this._mode()._resetLayout()},r._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},r._manageStamp=function(e){this._mode()._manageStamp(e)},r._getContainerSize=function(){return this._mode()._getContainerSize()},r.needsResizeLayout=function(){return this._mode().needsResizeLayout()},r.appended=function(e){e=this.addItems(e);e.length&&(e=this._filterRevealAdded(e),this.filteredItems=this.filteredItems.concat(e))},r.prepended=function(e){var t=this._itemize(e);t.length&&(this._resetLayout(),this._manageStamps(),e=this._filterRevealAdded(t),this.layoutItems(this.filteredItems),this.filteredItems=e.concat(this.filteredItems),this.items=t.concat(this.items))},r._filterRevealAdded=function(e){e=this._filter(e);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},r.insert=function(e){var t=this.addItems(e);if(t.length){for(var i,o=t.length,r=0;r<o;r++)i=t[r],this.element.appendChild(i.element);e=this._filter(t).matches;for(r=0;r<o;r++)t[r].isLayoutInstant=!0;for(this.arrange(),r=0;r<o;r++)delete t[r].isLayoutInstant;this.reveal(e)}};var d=r.remove;return r.remove=function(e){e=n.makeArray(e);var t=this.getItems(e);d.call(this,e);for(var i=t&&t.length,o=0;i&&o<i;o++){var r=t[o];n.removeFrom(this.filteredItems,r)}},r.shuffle=function(){for(var e=0;e<this.items.length;e++)this.items[e].sortData.random=Math.random();this.options.sortBy="random",this._sort(),this._layout()},r._noTransition=function(e,t){var i=this.options.transitionDuration;this.options.transitionDuration=0;t=e.apply(this,t);return this.options.transitionDuration=i,t},r.getFilteredItemElements=function(){return this.filteredItems.map(function(e){return e.element})},c}),function(m){var e,f=!1,y=!1,g=5e3,l=2e3,v=0,b=0<(e=(e=document.getElementsByTagName("script"))[e.length-1].src.split("?")[0]).split("/").length?e.split("/").slice(0,-1).join("/")+"/":"";Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var i=0,o=this.length;i<o;++i)e.call(t,this[i],i,this)});var c=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;function r(e,t){function n(e,t,i){return t=e.css(t),e=parseFloat(t),isNaN(e)?(i=3==(e=a[t]||0)?i?h.win.outerHeight()-h.win.innerHeight():h.win.outerWidth()-h.win.innerWidth():1,h.isie8&&e&&(e+=1),i?e:0):e}function s(i,o,r,e){h._bind(i,o,function(e){var t={original:e=e||window.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==o?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,r.call(i,t)},e)}function o(e,t,i){var o,r;if(0==e.deltaMode?(o=-Math.floor(e.deltaX*(h.opt.mousescrollstep/54)),r=-Math.floor(e.deltaY*(h.opt.mousescrollstep/54))):1==e.deltaMode&&(o=-Math.floor(e.deltaX*h.opt.mousescrollstep),r=-Math.floor(e.deltaY*h.opt.mousescrollstep)),t&&0==o&&r&&(o=r,r=0),o&&(h.scrollmom&&h.scrollmom.stop(),h.lastdeltax+=o,h.debounced("mousewheelx",function(){var e=h.lastdeltax;h.lastdeltax=0,h.rail.drag||h.doScrollLeftBy(e)},120)),r){if(h.opt.nativeparentscrolling&&i&&!h.ispage&&!h.zoomactive)if(r<0){if(h.getScrollTop()>=h.page.maxh)return!0}else if(h.getScrollTop()<=0)return!0;h.scrollmom&&h.scrollmom.stop(),h.lastdeltay+=r,h.debounced("mousewheely",function(){var e=h.lastdeltay;h.lastdeltay=0,h.rail.drag||h.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var h=this;if(this.version="3.4.0",this.name="nicescroll",this.me=t,this.opt={doc:m("body"),win:!1},m.extend(this.opt,d),this.opt.snapbackspeed=80,e)for(var i in h.opt)void 0!==e[i]&&(h.opt[i]=e[i]);for(this.iddoc=(this.doc=h.opt.doc)&&this.doc[0]&&this.doc[0].id||"",this.ispage=/BODY|HTML/.test((h.opt.win||this.doc)[0].nodeName),this.haswrapper=!1!==h.opt.win,this.win=h.opt.win||(this.ispage?m(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?m(window):this.win,this.body=m("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=h.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;this.id="ascrail"+l++,document.getElementById(this.id););this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=h.opt.overflowx,this.overflowy=h.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=function(){if(x)return x;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||7==document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&9<=document.documentMode,t.isie10=t.isie&&"performance"in window&&10<=document.documentMode,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],o=0;o<i.length;o++)if(void 0!==e.style[i[o]]){t.trstyle=i[o];break}t.hastransform=0!=t.trstyle,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var i="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),r=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),n="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),o=0;o<i.length;o++)if(i[o]in e.style){t.transitionstyle=i[o],t.prefixstyle=r[o],t.transitionend=n[o];break}t.ischrome26&&(t.prefixstyle=r[1]),t.hastransition=t.transitionstyle;e:{for(i=["-moz-grab","-webkit-grab","grab"],(t.ischrome&&!t.ischrome22||t.isie)&&(i=[]),o=0;o<i.length;o++)if(r=i[o],e.style.cursor=r,e.style.cursor==r){i=r;break e}i="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return t.cursorgrabvalue=i,t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==w,x=t}();var r,p=m.extend({},this.detected);this.ishwscroll=(this.canhwscroll=p.hastransform&&h.opt.hwacceleration)&&h.haswrapper,this.istouchcapable=!1,p.cantouch&&p.ischrome&&!p.isios&&!p.isandroid&&(this.istouchcapable=!0,p.cantouch=!1),p.cantouch&&p.ismozilla&&!p.isios&&(this.istouchcapable=!0,p.cantouch=!1),h.opt.enablemouselockapi||(p.hasmousecapture=!1,p.haspointerlock=!1),this.delayed=function(e,t,i,o){var r=h.delaylist[e],n=(new Date).getTime();if(!o&&r&&r.tt)return!1;r&&r.tt&&clearTimeout(r.tt),r&&r.last+i>n&&!r.tt?h.delaylist[e]={last:n+i,tt:setTimeout(function(){h.delaylist[e].tt=0,t.call()},i)}:r&&r.tt||(h.delaylist[e]={last:n,tt:0},setTimeout(function(){t.call()},0))},this.debounced=function(t,e,i){var o=h.delaylist[t];(new Date).getTime(),h.delaylist[t]=e,o||setTimeout(function(){var e=h.delaylist[t];h.delaylist[t]=!1,e.call()},i)},this.synched=function(t,e){return h.synclist[t]=e,h.onsync||(c(function(){for(t in h.onsync=!1,h.synclist){var e=h.synclist[t];e&&e.call(h),h.synclist[t]=!1}}),h.onsync=!0),t},this.unsynched=function(e){h.synclist[e]&&(h.synclist[e]=!1)},this.css=function(e,t){for(var i in t)h.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return void 0===e?h.getScrollTop():h.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?h.getScrollLeft():h.setScrollLeft(e)},BezierClass=function(e,t,i,o,r,n,s){this.st=e,this.ed=t,this.spd=i,this.p1=o||0,this.p2=r||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e<0?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},p.hastranslate3d&&p.isios&&this.doc.css("-webkit-backface-visibility","hidden"),r=function(){var e=h.doc.css(p.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)},this.getScrollTop=function(e){if(!e){if(e=r())return 16==e.length?-e[13]:-e[5];if(h.timerscroll&&h.timerscroll.bz)return h.timerscroll.bz.getNow()}return h.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=r())return 16==e.length?-e[12]:-e[4];if(h.timerscroll&&h.timerscroll.bh)return h.timerscroll.bh.getNow()}return h.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:function(e,t){},p.hastranslate3d&&h.opt.enabletranslate3d?(this.setScrollTop=function(e,t){h.doc.translate.y=e,h.doc.translate.ty=-1*e+"px",h.doc.css(p.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0px)"),t||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(e,t){h.doc.translate.x=e,h.doc.translate.tx=-1*e+"px",h.doc.css(p.trstyle,"translate3d("+h.doc.translate.tx+","+h.doc.translate.ty+",0px)"),t||h.notifyScrollEvent(h.win[0])}):(this.setScrollTop=function(e,t){h.doc.translate.y=e,h.doc.translate.ty=-1*e+"px",h.doc.css(p.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),t||h.notifyScrollEvent(h.win[0])},this.setScrollLeft=function(e,t){h.doc.translate.x=e,h.doc.translate.tx=-1*e+"px",h.doc.css(p.trstyle,"translate("+h.doc.translate.tx+","+h.doc.translate.ty+")"),t||h.notifyScrollEvent(h.win[0])})):(this.getScrollTop=function(){return h.docscroll.scrollTop()},this.setScrollTop=function(e){return h.docscroll.scrollTop(e)},this.getScrollLeft=function(){return h.docscroll.scrollLeft()},this.setScrollLeft=function(e){return h.docscroll.scrollLeft(e)}),this.getTarget=function(e){return e&&(e.target||e.srcElement)||!1},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};var a={thin:1,medium:3,thick:5};this.getOffset=function(){if(h.isfixed)return{top:parseFloat(h.win.css("top")),left:parseFloat(h.win.css("left"))};if(!h.viewport)return h.win.offset();var e=h.win.offset(),t=h.viewport.offset();return{top:e.top-t.top+h.viewport.scrollTop(),left:e.left-t.left+h.viewport.scrollLeft()}},this.updateScrollBar=function(e){var t,i,o,r;h.ishwscroll?(h.rail.css({height:h.win.innerHeight()}),h.railh&&h.railh.css({width:h.win.innerWidth()})):(i=(t=h.getOffset()).top,o=t.left,i+=n(h.win,"border-top-width",!0),h.win.outerWidth(),h.win.innerWidth(),o+=h.rail.align?h.win.outerWidth()-n(h.win,"border-right-width")-h.rail.width:n(h.win,"border-left-width"),(r=h.opt.railoffset)&&(r.top&&(i+=r.top),h.rail.align&&r.left&&(o+=r.left)),h.locked||h.rail.css({top:i,left:o,height:e?e.h:h.win.innerHeight()}),h.zoom&&h.zoom.css({top:i+1,left:1==h.rail.align?o-20:o+h.rail.width+4}),h.railh&&!h.locked&&(i=t.top,o=t.left,e=h.railh.align?i+n(h.win,"border-top-width",!0)+h.win.innerHeight()-h.railh.height:i+n(h.win,"border-top-width",!0),o+=n(h.win,"border-left-width"),h.railh.css({top:e,left:o,width:h.railh.width})))},this.doRailClick=function(e,t,i){var o;h.locked||(h.cancelEvent(e),t?(t=i?h.doScrollLeft:h.doScrollTop)(o=i?(e.pageX-h.railh.offset().left-h.cursorwidth/2)*h.scrollratio.x:(e.pageY-h.rail.offset().top-h.cursorheight/2)*h.scrollratio.y):(t=i?h.doScrollLeftBy:h.doScrollBy,o=i?h.scroll.x:h.scroll.y,e=i?e.pageX-h.railh.offset().left:e.pageY-h.rail.offset().top,i=i?h.view.w:h.view.h,t(e<=o?i:-i)))},h.hasanimationframe=c,h.hascancelanimationframe=u,h.hasanimationframe?h.hascancelanimationframe||(u=function(){h.cancelAnimationFrame=!0}):(c=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},u=clearInterval),this.init=function(){if(h.saved.css=[],p.isie7mobile)return!0;if(p.hasmstouch&&h.css(h.ispage?m("html"):h.win,{"-ms-touch-action":"none"}),h.zindex="auto",h.zindex=h.ispage||"auto"!=h.opt.zindex?h.opt.zindex:function(){var e=h.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}()||"auto",!h.ispage&&"auto"!=h.zindex&&h.zindex>v&&(v=h.zindex),h.isie&&0==h.zindex&&"auto"==h.opt.zindex&&(h.zindex="auto"),!h.ispage||!p.cantouch&&!p.isieold&&!p.isie9mobile){var e=h.docscroll;h.ispage&&(e=h.haswrapper?h.win:h.doc),p.isie9mobile||h.css(e,{"overflow-y":"hidden"}),h.ispage&&p.isie7&&("BODY"==h.doc[0].nodeName?h.css(m("html"),{"overflow-y":"hidden"}):"HTML"==h.doc[0].nodeName&&h.css(m("body"),{"overflow-y":"hidden"})),!p.isios||h.ispage||h.haswrapper||h.css(m("body"),{"-webkit-overflow-scrolling":"touch"});var t=m(document.createElement("div"));t.css({position:"relative",top:0,float:"right",width:h.opt.cursorwidth,height:"0px","background-color":h.opt.cursorcolor,border:h.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":h.opt.cursorborderradius,"-moz-border-radius":h.opt.cursorborderradius,"border-radius":h.opt.cursorborderradius}),t.hborder=parseFloat(t.outerHeight()-t.innerHeight()),h.cursor=t;var i=m(document.createElement("div"));i.attr("id",h.id),i.addClass("nicescroll-rails");var o,r,n,s,c,a,l,u=["left","right"];for(n in u)r=u[n],(o=h.opt.railpadding[r])?i.css("padding-"+r,o+"px"):h.opt.railpadding[r]=0;i.append(t),i.width=Math.max(parseFloat(h.opt.cursorwidth),t.outerWidth())+h.opt.railpadding.left+h.opt.railpadding.right,i.css({width:i.width+"px",zIndex:h.zindex,background:h.opt.background,cursor:"default"}),i.visibility=!0,i.scrollable=!0,i.align="left"==h.opt.railalign?0:1,h.rail=i,t=h.rail.drag=!1,!h.opt.boxzoom||h.ispage||p.isieold||(t=document.createElement("div"),h.bind(t,"click",h.doZoom),h.zoom=m(t),h.zoom.css({cursor:"pointer","z-index":h.zindex,backgroundImage:"url("+b+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),h.opt.dblclickzoom&&h.bind(h.win,"dblclick",h.doZoom),p.cantouch&&h.opt.gesturezoom&&(h.ongesturezoom=function(e){return 1.5<e.scale&&h.doZoomIn(e),e.scale<.8&&h.doZoomOut(e),h.cancelEvent(e)},h.bind(h.win,"gestureend",h.ongesturezoom))),h.railh=!1,h.opt.horizrailenabled&&(h.css(e,{"overflow-x":"hidden"}),(t=m(document.createElement("div"))).css({position:"relative",top:0,height:h.opt.cursorwidth,width:"0px","background-color":h.opt.cursorcolor,border:h.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":h.opt.cursorborderradius,"-moz-border-radius":h.opt.cursorborderradius,"border-radius":h.opt.cursorborderradius}),t.wborder=parseFloat(t.outerWidth()-t.innerWidth()),h.cursorh=t,(s=m(document.createElement("div"))).attr("id",h.id+"-hr"),s.addClass("nicescroll-rails"),s.height=Math.max(parseFloat(h.opt.cursorwidth),t.outerHeight()),s.css({height:s.height+"px",zIndex:h.zindex,background:h.opt.background}),s.append(t),s.visibility=!0,s.scrollable=!0,s.align="top"==h.opt.railvalign?0:1,h.railh=s,h.railh.drag=!1),h.ispage?(i.css({position:"fixed",top:"0px",height:"100%"}),i.align?i.css({right:"0px"}):i.css({left:"0px"}),h.body.append(i),h.railh&&(s.css({position:"fixed",left:"0px",width:"100%"}),s.align?s.css({bottom:"0px"}):s.css({top:"0px"}),h.body.append(s))):(h.ishwscroll?("static"==h.win.css("position")&&h.css(h.win,{position:"relative"}),e="HTML"==h.win[0].nodeName?h.body:h.win,h.zoom&&(h.zoom.css({position:"absolute",top:1,right:0,"margin-right":i.width+4}),e.append(h.zoom)),i.css({position:"absolute",top:0}),i.align?i.css({right:0}):i.css({left:0}),e.append(i),s&&(s.css({position:"absolute",left:0,bottom:0}),s.align?s.css({bottom:0}):s.css({top:0}),e.append(s))):(h.isfixed="fixed"==h.win.css("position"),e=h.isfixed?"fixed":"absolute",h.isfixed||(h.viewport=h.getViewport(h.win[0])),h.viewport&&(h.body=h.viewport,0==/relative|absolute/.test(h.viewport.css("position"))&&h.css(h.viewport,{position:"relative"})),i.css({position:e}),h.zoom&&h.zoom.css({position:e}),h.updateScrollBar(),h.body.append(i),h.zoom&&h.body.append(h.zoom),h.railh&&(s.css({position:e}),h.body.append(s))),p.isios&&h.css(h.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),p.isie&&h.opt.disableoutline&&h.win.attr("hideFocus","true"),p.iswebkit&&h.opt.disableoutline&&h.win.css({outline:"none"})),!1===h.opt.autohidemode?(h.autohidedom=!1,h.rail.css({opacity:h.opt.cursoropacitymax}),h.railh&&h.railh.css({opacity:h.opt.cursoropacitymax})):!0===h.opt.autohidemode?(h.autohidedom=m().add(h.rail),p.isie8&&(h.autohidedom=h.autohidedom.add(h.cursor)),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh)),h.railh&&p.isie8&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"scroll"==h.opt.autohidemode?(h.autohidedom=m().add(h.rail),h.railh&&(h.autohidedom=h.autohidedom.add(h.railh))):"cursor"==h.opt.autohidemode?(h.autohidedom=m().add(h.cursor),h.railh&&(h.autohidedom=h.autohidedom.add(h.cursorh))):"hidden"==h.opt.autohidemode&&(h.autohidedom=!1,h.hide(),h.locked=!1),p.isie9mobile?(h.scrollmom=new T(h),h.onmangotouch=function(e){e=h.getScrollTop();var t=h.getScrollLeft();if(e==h.scrollmom.lastscrolly&&t==h.scrollmom.lastscrollx)return!0;var i,o,r,n=e-h.mangotouch.sy,s=t-h.mangotouch.sx;0!=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(n,2)))&&(i=n<0?-1:1,o=s<0?-1:1,r=+new Date,h.mangotouch.lazy&&clearTimeout(h.mangotouch.lazy),80<r-h.mangotouch.tm||h.mangotouch.dry!=i||h.mangotouch.drx!=o?(h.scrollmom.stop(),h.scrollmom.reset(t,e),h.mangotouch.sy=e,h.mangotouch.ly=e,h.mangotouch.sx=t,h.mangotouch.lx=t,h.mangotouch.dry=i,h.mangotouch.drx=o,h.mangotouch.tm=r):(h.scrollmom.stop(),h.scrollmom.update(h.mangotouch.sx-s,h.mangotouch.sy-n),h.mangotouch.tm=r,n=Math.max(Math.abs(h.mangotouch.ly-e),Math.abs(h.mangotouch.lx-t)),h.mangotouch.ly=e,h.mangotouch.lx=t,2<n&&(h.mangotouch.lazy=setTimeout(function(){h.mangotouch.lazy=!1,h.mangotouch.dry=0,h.mangotouch.drx=0,h.mangotouch.tm=0,h.scrollmom.doMomentum(30)},100))))},i=h.getScrollTop(),s=h.getScrollLeft(),h.mangotouch={sy:i,ly:i,dry:0,sx:s,lx:s,drx:0,lazy:!1,tm:0},h.bind(h.docscroll,"scroll",h.onmangotouch)):((p.cantouch||h.istouchcapable||h.opt.touchbehavior||p.hasmstouch)&&(h.scrollmom=new T(h),h.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(!h.locked){if(p.hasmstouch)for(var t=e.target||!1;t;){if(0<(n=m(t).getNiceScroll()).length&&n[0].me==h.me)break;if(0<n.length)return!1;if("DIV"==t.nodeName&&t.id==h.id)break;t=t.parentNode||!1}if(h.cancelScroll(),(t=h.getTarget(e))&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return h.stopPropagation(e);var i,o,r,n;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),h.forcescreen&&((e={original:(n=e).original||e}).clientX=n.screenX,e.clientY=n.screenY),h.rail.drag={x:e.clientX,y:e.clientY,sx:h.scroll.x,sy:h.scroll.y,st:h.getScrollTop(),sl:h.getScrollLeft(),pt:2,dl:!1},h.ispage||!h.opt.directionlockdeadzone?h.rail.drag.dl="f":(n=m(window).width(),r=m(window).height(),i=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),r=Math.max(0,o-r),n=Math.max(0,i-n),h.rail.drag.ck=!h.rail.scrollable&&h.railh.scrollable?0<r&&"v":!(!h.rail.scrollable||h.railh.scrollable)&&(0<n&&"h"),h.rail.drag.ck||(h.rail.drag.dl="f")),h.opt.touchbehavior&&h.isiframe&&p.isie&&(n=h.win.position(),h.rail.drag.x+=n.left,h.rail.drag.y+=n.top),h.hasmoving=!1,h.lastmouseup=!1,h.scrollmom.reset(e.clientX,e.clientY),!p.cantouch&&!this.istouchcapable&&!p.hasmstouch){if(!t||!/INPUT|SELECT|TEXTAREA/i.test(t.nodeName))return!h.ispage&&p.hasmousecapture&&t.setCapture(),h.cancelEvent(e);/SUBMIT|CANCEL|BUTTON/i.test(m(t).attr("type"))&&(pc={tg:t,click:!1},h.preventclick=pc)}}},h.ontouchend=function(e){return(!e.pointerType||2==e.pointerType)&&(h.rail.drag&&2==h.rail.drag.pt&&(h.scrollmom.doMomentum(),h.rail.drag=!1,h.hasmoving&&(h.hasmoving=!1,h.lastmouseup=!0,h.hideCursor(),p.hasmousecapture&&document.releaseCapture(),!p.cantouch))?h.cancelEvent(e):void 0)},c=h.opt.touchbehavior&&h.isiframe&&!p.hasmousecapture,h.ontouchmove=function(e,t){if(e.pointerType&&2!=e.pointerType)return!1;if(h.rail.drag&&2==h.rail.drag.pt){if(p.cantouch&&void 0===e.original)return!0;var i;h.hasmoving=!0,h.preventclick&&!h.preventclick.click&&(h.preventclick.click=h.preventclick.tg.onclick||!1,h.preventclick.tg.onclick=h.onpreventclick),"changedTouches"in(e=m.extend({original:e},e))&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),h.forcescreen&&((e={original:(i=e).original||e}).clientX=i.screenX,e.clientY=i.screenY),i=ofy=0,c&&!t&&(i=-(n=h.win.position()).left,ofy=-n.top);var o,r=e.clientY+ofy,n=r-h.rail.drag.y,s=e.clientX+i,a=s-h.rail.drag.x,l=h.rail.drag.st-n;if(h.ishwscroll&&h.opt.bouncescroll?l<0?l=Math.round(l/2):l>h.page.maxh&&(l=h.page.maxh+Math.round((l-h.page.maxh)/2)):(l<0&&(r=l=0),l>h.page.maxh&&(l=h.page.maxh,r=0)),h.railh&&h.railh.scrollable&&(o=h.rail.drag.sl-a,h.ishwscroll&&h.opt.bouncescroll?o<0?o=Math.round(o/2):o>h.page.maxw&&(o=h.page.maxw+Math.round((o-h.page.maxw)/2)):(o<0&&(s=o=0),o>h.page.maxw&&(o=h.page.maxw,s=0))),i=!1,h.rail.drag.dl)i=!0,"v"==h.rail.drag.dl?o=h.rail.drag.sl:"h"==h.rail.drag.dl&&(l=h.rail.drag.st);else{n=Math.abs(n),a=Math.abs(a),t=h.opt.directionlockdeadzone;if("v"==h.rail.drag.ck){if(t<n&&a<=.3*n)return!(h.rail.drag=!1);t<a&&(h.rail.drag.dl="f",m("body").scrollTop(m("body").scrollTop()))}else if("h"==h.rail.drag.ck){if(t<a&&n<=.3*az)return!(h.rail.drag=!1);t<n&&(h.rail.drag.dl="f",m("body").scrollLeft(m("body").scrollLeft()))}}return h.synched("touchmove",function(){h.rail.drag&&2==h.rail.drag.pt&&(h.prepareTransition&&h.prepareTransition(0),h.rail.scrollable&&h.setScrollTop(l),h.scrollmom.update(s,r),h.railh&&h.railh.scrollable?(h.setScrollLeft(o),h.showCursor(l,o)):h.showCursor(l),p.isie10&&document.selection.clear())}),p.ischrome&&h.istouchcapable&&(i=!1),i?h.cancelEvent(e):void 0}}),h.onmousedown=function(e,t){if(!h.rail.drag||1==h.rail.drag.pt){if(h.locked)return h.cancelEvent(e);h.cancelScroll(),h.rail.drag={x:e.clientX,y:e.clientY,sx:h.scroll.x,sy:h.scroll.y,pt:1,hr:!!t};t=h.getTarget(e);return!h.ispage&&p.hasmousecapture&&t.setCapture(),h.isiframe&&!p.hasmousecapture&&(h.saved.csspointerevents=h.doc.css("pointer-events"),h.css(h.doc,{"pointer-events":"none"})),h.cancelEvent(e)}},h.onmouseup=function(e){if(h.rail.drag&&(p.hasmousecapture&&document.releaseCapture(),h.isiframe&&!p.hasmousecapture&&h.doc.css("pointer-events",h.saved.csspointerevents),1==h.rail.drag.pt))return h.rail.drag=!1,h.cancelEvent(e)},h.onmousemove=function(e){var t;if(h.rail.drag&&1==h.rail.drag.pt)return p.ischrome&&0==e.which?h.onmouseup(e):(h.cursorfreezed=!0,h.rail.drag.hr?(h.scroll.x=h.rail.drag.sx+(e.clientX-h.rail.drag.x),h.scroll.x<0&&(h.scroll.x=0),t=h.scrollvaluemaxw,h.scroll.x>t&&(h.scroll.x=t)):(h.scroll.y=h.rail.drag.sy+(e.clientY-h.rail.drag.y),h.scroll.y<0&&(h.scroll.y=0),t=h.scrollvaluemax,h.scroll.y>t&&(h.scroll.y=t)),h.synched("mousemove",function(){h.rail.drag&&1==h.rail.drag.pt&&(h.showCursor(),h.rail.drag.hr?h.doScrollLeft(Math.round(h.scroll.x*h.scrollratio.x),h.opt.cursordragspeed):h.doScrollTop(Math.round(h.scroll.y*h.scrollratio.y),h.opt.cursordragspeed))}),h.cancelEvent(e))},p.cantouch||h.opt.touchbehavior?(h.onpreventclick=function(e){if(h.preventclick)return h.preventclick.tg.onclick=h.preventclick.click,h.preventclick=!1,h.cancelEvent(e)},h.bind(h.win,"mousedown",h.ontouchstart),h.onclick=!p.isios&&function(e){return!h.lastmouseup||(h.lastmouseup=!1,h.cancelEvent(e))},h.opt.grabcursorenabled&&p.cursorgrabvalue&&(h.css(h.ispage?h.doc:h.win,{cursor:p.cursorgrabvalue}),h.css(h.rail,{cursor:p.cursorgrabvalue}))):(a=function(e){var t;h.selectiondrag&&(e&&(t=h.win.outerHeight(),0<(e=e.pageY-h.selectiondrag.top)&&e<t&&(e=0),t<=e&&(e-=t),h.selectiondrag.df=e),0!=h.selectiondrag.df&&(h.doScrollBy(2*-Math.floor(h.selectiondrag.df/6)),h.debounced("doselectionscroll",function(){a()},50)))},h.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},h.onselectionstart=function(e){h.ispage||(h.selectiondrag=h.win.offset())},h.onselectionend=function(e){h.selectiondrag=!1},h.onselectiondrag=function(e){h.selectiondrag&&h.hasTextSelected()&&h.debounced("selectionscroll",function(){a(e)},250)}),p.hasmstouch&&(h.css(h.rail,{"-ms-touch-action":"none"}),h.css(h.cursor,{"-ms-touch-action":"none"}),h.bind(h.win,"MSPointerDown",h.ontouchstart),h.bind(document,"MSPointerUp",h.ontouchend),h.bind(document,"MSPointerMove",h.ontouchmove),h.bind(h.cursor,"MSGestureHold",function(e){e.preventDefault()}),h.bind(h.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(h.bind(h.win,"touchstart",h.ontouchstart),h.bind(document,"touchend",h.ontouchend),h.bind(document,"touchcancel",h.ontouchend),h.bind(document,"touchmove",h.ontouchmove)),h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mouseup",h.onmouseup),h.railh&&(h.bind(h.cursorh,"mousedown",function(e){h.onmousedown(e,!0)}),h.bind(h.cursorh,"mouseup",function(e){if(!h.rail.drag||2!=h.rail.drag.pt)return h.rail.drag=!1,h.hasmoving=!1,h.hideCursor(),p.hasmousecapture&&document.releaseCapture(),h.cancelEvent(e)})),!h.opt.cursordragontouch&&(p.cantouch||h.opt.touchbehavior)||(h.rail.css({cursor:"default"}),h.railh&&h.railh.css({cursor:"default"}),h.jqbind(h.rail,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.rail,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),h.opt.sensitiverail&&(h.bind(h.rail,"click",function(e){h.doRailClick(e,!1,!1)}),h.bind(h.rail,"dblclick",function(e){h.doRailClick(e,!0,!1)}),h.bind(h.cursor,"click",function(e){h.cancelEvent(e)}),h.bind(h.cursor,"dblclick",function(e){h.cancelEvent(e)})),h.railh&&(h.jqbind(h.railh,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.railh,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}),h.opt.sensitiverail&&(h.bind(h.railh,"click",function(e){h.doRailClick(e,!1,!0)}),h.bind(h.railh,"dblclick",function(e){h.doRailClick(e,!0,!0)}),h.bind(h.cursorh,"click",function(e){h.cancelEvent(e)}),h.bind(h.cursorh,"dblclick",function(e){h.cancelEvent(e)})))),p.cantouch||h.opt.touchbehavior?(h.bind(p.hasmousecapture?h.win:document,"mouseup",h.ontouchend),h.bind(document,"mousemove",h.ontouchmove),h.onclick&&h.bind(document,"click",h.onclick),h.opt.cursordragontouch&&(h.bind(h.cursor,"mousedown",h.onmousedown),h.bind(h.cursor,"mousemove",h.onmousemove),h.cursorh&&h.bind(h.cursorh,"mousedown",h.onmousedown),h.cursorh&&h.bind(h.cursorh,"mousemove",h.onmousemove))):(h.bind(p.hasmousecapture?h.win:document,"mouseup",h.onmouseup),h.bind(document,"mousemove",h.onmousemove),h.onclick&&h.bind(document,"click",h.onclick),!h.ispage&&h.opt.enablescrollonselection&&(h.bind(h.win[0],"mousedown",h.onselectionstart),h.bind(document,"mouseup",h.onselectionend),h.bind(h.cursor,"mouseup",h.onselectionend),h.cursorh&&h.bind(h.cursorh,"mouseup",h.onselectionend),h.bind(document,"mousemove",h.onselectiondrag)),h.zoom&&(h.jqbind(h.zoom,"mouseenter",function(){h.canshowonmouseevent&&h.showCursor(),h.rail.active=!0}),h.jqbind(h.zoom,"mouseleave",function(){h.rail.active=!1,h.rail.drag||h.hideCursor()}))),h.opt.enablemousewheel&&(h.isiframe||h.bind(p.isie&&h.ispage?document:h.docscroll,"mousewheel",h.onmousewheel),h.bind(h.rail,"mousewheel",h.onmousewheel),h.railh&&h.bind(h.railh,"mousewheel",h.onmousewheelhr)),h.ispage||p.cantouch||/HTML|BODY/.test(h.win[0].nodeName)||(h.win.attr("tabindex")||h.win.attr({tabindex:g++}),h.jqbind(h.win,"focus",function(e){f=h.getTarget(e).id||!0,h.hasfocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.jqbind(h.win,"blur",function(e){f=!1,h.hasfocus=!1}),h.jqbind(h.win,"mouseenter",function(e){y=h.getTarget(e).id||!0,h.hasmousefocus=!0,h.canshowonmouseevent&&h.noticeCursor()}),h.jqbind(h.win,"mouseleave",function(){y=!1,h.hasmousefocus=!1}))),h.onkeypress=function(e){if(h.locked&&0==h.page.maxh)return!0;e=e||window.e;var t=h.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)&&(!t.getAttribute("type")&&!t.type||!/submit|button|cancel/i.tp))return!0;if(h.hasfocus||h.hasmousefocus&&!f||h.ispage&&!f&&!y){if(t=e.keyCode,h.locked&&27!=t)return h.cancelEvent(e);var i=e.ctrlKey||!1,o=e.shiftKey||!1,r=!1;switch(t){case 38:case 63233:h.doScrollBy(72),r=!0;break;case 40:case 63235:h.doScrollBy(-72),r=!0;break;case 37:case 63232:h.railh&&(i?h.doScrollLeft(0):h.doScrollLeftBy(72),r=!0);break;case 39:case 63234:h.railh&&(i?h.doScrollLeft(h.page.maxw):h.doScrollLeftBy(-72),r=!0);break;case 33:case 63276:h.doScrollBy(h.view.h),r=!0;break;case 34:case 63277:h.doScrollBy(-h.view.h),r=!0;break;case 36:case 63273:h.railh&&i?h.doScrollPos(0,0):h.doScrollTo(0),r=!0;break;case 35:case 63275:h.railh&&i?h.doScrollPos(h.page.maxw,h.page.maxh):h.doScrollTo(h.page.maxh),r=!0;break;case 32:h.opt.spacebarenabled&&(o?h.doScrollBy(h.view.h):h.doScrollBy(-h.view.h),r=!0);break;case 27:h.zoomactive&&(h.doZoom(),r=!0)}return r?h.cancelEvent(e):void 0}},h.opt.enablekeyboard&&h.bind(document,p.isopera&&!p.isopera12?"keypress":"keydown",h.onkeypress),h.bind(window,"resize",h.lazyResize),h.bind(window,"orientationchange",h.lazyResize),h.bind(window,"load",h.lazyResize),!p.ischrome||h.ispage||h.haswrapper||(l=h.win.attr("style"),i=parseFloat(h.win.css("width"))+1,h.win.css("width",i),h.synched("chromefix",function(){h.win.attr("style",l)})),h.onAttributeChange=function(e){h.lazyResize(250)},h.ispage||h.haswrapper||(!1!==w?(h.observer=new w(function(e){e.forEach(h.onAttributeChange)}),h.observer.observe(h.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),h.observerremover=new w(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==h.win[0])return h.remove()})}),h.observerremover.observe(h.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(h.bind(h.win,p.isie&&!p.isie9?"propertychange":"DOMAttrModified",h.onAttributeChange),p.isie9&&h.win[0].attachEvent("onpropertychange",h.onAttributeChange),h.bind(h.win,"DOMNodeRemoved",function(e){e.target==h.win[0]&&h.remove()}))),!h.ispage&&h.opt.boxzoom&&h.bind(window,"resize",h.resizeZoom),h.istextarea&&h.bind(h.win,"mouseup",h.lazyResize),h.checkrtlmode=!0,h.lazyResize(30)}var d;"IFRAME"==this.doc[0].nodeName&&(d=function(e){h.iframexd=!1;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(e){t=!(h.iframexd=!0)}if(h.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;h.forcescreen=!0,h.isiframe&&(h.iframe={doc:m(t),html:h.doc.contents().find("html")[0],body:h.doc.contents().find("body")[0]},h.getContentSize=function(){return{w:Math.max(h.iframe.html.scrollWidth,h.iframe.body.scrollWidth),h:Math.max(h.iframe.html.scrollHeight,h.iframe.body.scrollHeight)}},h.docscroll=m(h.iframe.body)),p.isios||!h.opt.iframeautoresize||h.isiframe||(h.win.scrollTop(0),h.doc.height(""),e=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight),h.doc.height(e)),h.lazyResize(30),p.isie7&&h.css(m(h.iframe.html),{"overflow-y":"hidden"}),h.css(m(h.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?h.bind(this.contentWindow,"scroll",h.onscroll):h.bind(t,"scroll",h.onscroll),h.opt.enablemousewheel&&h.bind(t,"mousewheel",h.onmousewheel),h.opt.enablekeyboard&&h.bind(t,p.isopera?"keypress":"keydown",h.onkeypress),(p.cantouch||h.opt.touchbehavior)&&(h.bind(t,"mousedown",h.onmousedown),h.bind(t,"mousemove",function(e){h.onmousemove(e,!0)}),h.opt.grabcursorenabled&&p.cursorgrabvalue&&h.css(m(t.body),{cursor:p.cursorgrabvalue})),h.bind(t,"mouseup",h.onmouseup),h.zoom&&(h.opt.dblclickzoom&&h.bind(t,"dblclick",h.doZoom),h.ongesturezoom&&h.bind(t,"gestureend",h.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){d.call(h.doc[0],!1)},500),h.bind(this.doc,"load",d))},this.showCursor=function(e,t){h.cursortimeout&&(clearTimeout(h.cursortimeout),h.cursortimeout=0),h.rail&&(h.autohidedom&&(h.autohidedom.stop().css({opacity:h.opt.cursoropacitymax}),h.cursoractive=!0),h.rail.drag&&1==h.rail.drag.pt||(void 0!==e&&!1!==e&&(h.scroll.y=Math.round(+e/h.scrollratio.y)),void 0!==t&&(h.scroll.x=Math.round(+t/h.scrollratio.x))),h.cursor.css({height:h.cursorheight,top:h.scroll.y}),h.cursorh&&(!h.rail.align&&h.rail.visibility?h.cursorh.css({width:h.cursorwidth,left:h.scroll.x+h.rail.width}):h.cursorh.css({width:h.cursorwidth,left:h.scroll.x}),h.cursoractive=!0),h.zoom&&h.zoom.stop().css({opacity:h.opt.cursoropacitymax}))},this.hideCursor=function(e){!h.cursortimeout&&h.rail&&h.autohidedom&&(h.cursortimeout=setTimeout(function(){h.rail.active&&h.showonmouseevent||(h.autohidedom.stop().animate({opacity:h.opt.cursoropacitymin}),h.zoom&&h.zoom.stop().animate({opacity:h.opt.cursoropacitymin}),h.cursoractive=!1),h.cursortimeout=0},e||h.opt.hidecursordelay))},this.noticeCursor=function(e,t,i){h.showCursor(t,i),h.rail.active||h.hideCursor(e)},this.getContentSize=h.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:h.haswrapper?function(){return{w:h.doc.outerWidth()+parseInt(h.win.css("paddingLeft"))+parseInt(h.win.css("paddingRight")),h:h.doc.outerHeight()+parseInt(h.win.css("paddingTop"))+parseInt(h.win.css("paddingBottom"))}}:function(){return{w:h.docscroll[0].scrollWidth,h:h.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!h.win)return!1;if(!h.haswrapper&&!h.ispage){if("none"==h.win.css("display"))return h.visibility&&h.hideRail().hideRailHr(),!1;h.hidden||h.visibility||h.showRail().showRailHr()}var i=h.page.maxh,o=h.page.maxw,r=h.view.w;if(h.view={w:h.ispage?h.win.width():parseInt(h.win[0].clientWidth),h:h.ispage?h.win.height():parseInt(h.win[0].clientHeight)},h.page=t||h.getContentSize(),h.page.maxh=Math.max(0,h.page.h-h.view.h),h.page.maxw=Math.max(0,h.page.w-h.view.w),h.page.maxh==i&&h.page.maxw==o&&h.view.w==r){if(h.ispage)return h;if(i=h.win.offset(),h.lastposition&&((o=h.lastposition).top==i.top&&o.left==i.left))return h;h.lastposition=i}return 0==h.page.maxh?(h.hideRail(),h.scrollvaluemax=0,h.scroll.y=0,h.scrollratio.y=0,h.cursorheight=0,h.setScrollTop(0),h.rail.scrollable=!1):h.rail.scrollable=!0,0==h.page.maxw?(h.hideRailHr(),h.scrollvaluemaxw=0,h.scroll.x=0,h.scrollratio.x=0,h.cursorwidth=0,h.setScrollLeft(0),h.railh.scrollable=!1):h.railh.scrollable=!0,h.locked=0==h.page.maxh&&0==h.page.maxw,h.locked?(h.ispage||h.updateScrollBar(h.view),!1):(h.hidden||h.visibility?h.hidden||h.railh.visibility||h.showRailHr():h.showRail().showRailHr(),h.istextarea&&h.win.css("resize")&&"none"!=h.win.css("resize")&&(h.view.h-=20),h.cursorheight=Math.min(h.view.h,Math.round(h.view.h*(h.view.h/h.page.h))),h.cursorheight=h.opt.cursorfixedheight||Math.max(h.opt.cursorminheight,h.cursorheight),h.cursorwidth=Math.min(h.view.w,Math.round(h.view.w*(h.view.w/h.page.w))),h.cursorwidth=h.opt.cursorfixedheight||Math.max(h.opt.cursorminheight,h.cursorwidth),h.scrollvaluemax=h.view.h-h.cursorheight-h.cursor.hborder,h.railh&&(h.railh.width=0<h.page.maxh?h.view.w-h.rail.width:h.view.w,h.scrollvaluemaxw=h.railh.width-h.cursorwidth-h.cursorh.wborder),h.checkrtlmode&&h.railh&&(h.checkrtlmode=!1,h.opt.rtlmode&&0==h.scroll.x&&h.setScrollLeft(h.page.maxw)),h.ispage||h.updateScrollBar(h.view),h.scrollratio={x:h.page.maxw/h.scrollvaluemaxw,y:h.page.maxh/h.scrollvaluemax},h.getScrollTop()>h.page.maxh?h.doScrollTop(h.page.maxh):(h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.scroll.x=Math.round(h.getScrollLeft()*(1/h.scrollratio.x)),h.cursoractive&&h.noticeCursor()),h.scroll.y&&0==h.getScrollTop()&&h.doScrollTo(Math.floor(h.scroll.y*h.scrollratio.y)),h)},this.resize=h.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,h.delayed("resize",h.resize,e),h},this._bind=function(e,t,i,o){h.events.push({e:e,n:t,f:i,b:o,q:!1}),e.addEventListener?e.addEventListener(t,i,o||!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},this.jqbind=function(e,t,i){h.events.push({e:e,n:t,f:i,q:!0}),m(e).bind(t,i)},this.bind=function(e,t,i,o){var r="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in h.win?h._bind(r,"wheel",i,o||!1):(e=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",s(r,e,i,o||!1),"DOMMouseScroll"==e&&s(r,"MozMousePixelScroll",i,o||!1)):r.addEventListener?(p.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&h._bind(r,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){var t;e.touches?e.touches.length<2&&((t=e.touches.length?e.touches[0]:e).original=e,i.call(this,t)):e.changedTouches&&((t=e.changedTouches[0]).original=e,i.call(this,t))},o||!1),h._bind(r,t,i,o||!1),p.cantouch&&"mouseup"==t&&h._bind(r,"touchcancel",i,o||!1)):h._bind(r,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==i.call(r,e)&&!1!==o||h.cancelEvent(e)})},this._unbind=function(e,t,i,o){e.removeEventListener?e.removeEventListener(t,i,o):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<h.events.length;e++){var t=h.events[e];t.q?t.e.unbind(t.n,t.f):h._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){return!!(e=e.original||e||window.event||!1)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=e.original||e||window.event||!1)&&(e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1))},this.showRail=function(){return 0==h.page.maxh||!h.ispage&&"none"==h.win.css("display")||(h.visibility=!0,h.rail.visibility=!0,h.rail.css("display","block")),h},this.showRailHr=function(){return h.railh&&(0==h.page.maxw||!h.ispage&&"none"==h.win.css("display")||(h.railh.visibility=!0,h.railh.css("display","block"))),h},this.hideRail=function(){return h.visibility=!1,h.rail.visibility=!1,h.rail.css("display","none"),h},this.hideRailHr=function(){return h.railh&&(h.railh.visibility=!1,h.railh.css("display","none")),h},this.show=function(){return h.hidden=!1,h.locked=!1,h.showRail().showRailHr()},this.hide=function(){return h.hidden=!0,h.locked=!0,h.hideRail().hideRailHr()},this.toggle=function(){return h.hidden?h.show():h.hide()},this.remove=function(){h.stop(),h.cursortimeout&&clearTimeout(h.cursortimeout),h.doZoomOut(),h.unbindAll(),!1!==h.observer&&h.observer.disconnect(),!1!==h.observerremover&&h.observerremover.disconnect(),h.events=[],h.cursor&&(h.cursor.remove(),h.cursor=null),h.cursorh&&(h.cursorh.remove(),h.cursorh=null),h.rail&&(h.rail.remove(),h.rail=null),h.railh&&(h.railh.remove(),h.railh=null),h.zoom&&(h.zoom.remove(),h.zoom=null);for(var e=0;e<h.saved.css.length;e++){var t=h.saved.css[e];t[0].css(t[1],void 0===t[2]?"":t[2])}return h.saved=!1,h.me.data("__nicescroll",""),h.me=null,h.doc=null,h.docscroll=null,h.win=null,h},this.scrollstart=function(e){return this.onscrollstart=e,h},this.scrollend=function(e){return this.onscrollend=e,h},this.scrollcancel=function(e){return this.onscrollcancel=e,h},this.zoomin=function(e){return this.onzoomin=e,h},this.zoomout=function(e){return this.onzoomout=e,h},this.isScrollable=function(e){if("OPTION"==(e=e.target||e).nodeName)return!0;for(;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var t=(t=m(e)).css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(t))return e.clientHeight!=e.scrollHeight;e=e.parentNode||!1}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var t=m(e),i=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(i)&&e.clientHeight!=e.scrollHeight||0<t.getNiceScroll().length)return t;e=e.parentNode||!1}return!1},this.onmousewheel=function(e){if(h.locked)return!0;if(h.rail.drag)return h.cancelEvent(e);if(!h.rail.scrollable)return!h.railh||!h.railh.scrollable||h.onmousewheelhr(e);var t=+new Date,i=!1;return h.opt.preservenativescrolling&&h.checkarea+600<t&&(h.nativescrollingarea=h.isScrollable(e),i=!0),h.checkarea=t,!!h.nativescrollingarea||((e=o(e,!1,i))&&(h.checkarea=0),e)},this.onmousewheelhr=function(e){if(h.locked||!h.railh.scrollable)return!0;if(h.rail.drag)return h.cancelEvent(e);var t=+new Date,i=!1;return h.opt.preservenativescrolling&&h.checkarea+600<t&&(h.nativescrollingarea=h.isScrollable(e),i=!0),h.checkarea=t,!!h.nativescrollingarea||(h.locked?h.cancelEvent(e):o(e,!0,i))},this.stop=function(){return h.cancelScroll(),h.scrollmon&&h.scrollmon.stop(),h.cursorfreezed=!1,h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.noticeCursor(),h},this.getTransitionSpeed=function(e){var t=Math.round(10*h.opt.scrollspeed);return 20<(e=Math.min(t,Math.round(e/20*h.opt.scrollspeed)))?e:0},h.opt.smoothscroll?h.ishwscroll&&p.hastransition&&h.opt.usetransition?(this.prepareTransition=function(e,t){t=t?20<e?e:0:h.getTransitionSpeed(e),e=t?p.prefixstyle+"transform "+t+"ms ease-out":"";return h.lasttransitionstyle&&h.lasttransitionstyle==e||(h.lasttransitionstyle=e,h.doc.css(p.transitionstyle,e)),t},this.doScrollLeft=function(e,t){var i=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(i,e,t)},this.doScrollPos=function(r,n,e){var t=h.getScrollTop(),i=h.getScrollLeft();return((h.newscrolly-t)*(n-t)<0||(h.newscrollx-i)*(r-i)<0)&&h.cancelScroll(),0==h.opt.bouncescroll&&(n<0?n=0:n>h.page.maxh&&(n=h.page.maxh),r<0?r=0:r>h.page.maxw&&(r=h.page.maxw)),(!h.scrollrunning||r!=h.newscrollx||n!=h.newscrolly)&&(h.newscrolly=n,h.newscrollx=r,h.newscrollspeed=e||!1,!h.timer&&void(h.timer=setTimeout(function(){var e=h.getScrollTop(),t=h.getScrollLeft(),i=r-t,o=n-e;i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2))),i=h.newscrollspeed&&1<h.newscrollspeed?h.newscrollspeed:h.getTransitionSpeed(i),h.newscrollspeed&&h.newscrollspeed<=1&&(i*=h.newscrollspeed),h.prepareTransition(i,!0),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),0<i&&(!h.scrollrunning&&h.onscrollstart&&h.onscrollstart.call(h,{type:"scrollstart",current:{x:t,y:e},request:{x:r,y:n},end:{x:h.newscrollx,y:h.newscrolly},speed:i}),p.transitionend?h.scrollendtrapped||(h.scrollendtrapped=!0,h.bind(h.doc,p.transitionend,h.onScrollEnd,!1)):(h.scrollendtrapped&&clearTimeout(h.scrollendtrapped),h.scrollendtrapped=setTimeout(h.onScrollEnd,i)),h.timerscroll={bz:new BezierClass(e,h.newscrolly,i,0,0,.58,1),bh:new BezierClass(t,h.newscrollx,i,0,0,.58,1)},h.cursorfreezed||(h.timerscroll.tm=setInterval(function(){h.showCursor(h.getScrollTop(),h.getScrollLeft())},60))),h.synched("doScroll-set",function(){h.timer=0,h.scrollendtrapped&&(h.scrollrunning=!0),h.setScrollTop(h.newscrolly),h.setScrollLeft(h.newscrollx),h.scrollendtrapped||h.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!h.scrollendtrapped)return!0;var e=h.getScrollTop(),t=h.getScrollLeft();return h.scrollrunning=!1,p.transitionend||clearTimeout(p.transitionend),h.scrollendtrapped=!1,h._unbind(h.doc,p.transitionend,h.onScrollEnd),h.prepareTransition(0),h.setScrollTop(e),h.railh&&h.setScrollLeft(t),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1,h.cursorfreezed=!1,h.showCursor(e,t),h},this.onScrollEnd=function(){h.scrollendtrapped&&h._unbind(h.doc,p.transitionend,h.onScrollEnd),h.scrollendtrapped=!1,h.prepareTransition(0),h.timerscroll&&h.timerscroll.tm&&clearInterval(h.timerscroll.tm),h.timerscroll=!1;var e=h.getScrollTop(),t=h.getScrollLeft();if(h.setScrollTop(e),h.railh&&h.setScrollLeft(t),h.noticeCursor(!1,e,t),h.cursorfreezed=!1,e<0?e=0:e>h.page.maxh&&(e=h.page.maxh),t<0?t=0:t>h.page.maxw&&(t=h.page.maxw),e!=h.newscrolly||t!=h.newscrollx)return h.doScrollPos(t,e,h.opt.snapbackspeed);h.onscrollend&&h.scrollrunning&&h.onscrollend.call(h,{type:"scrollend",current:{x:t,y:e},end:{x:h.newscrollx,y:h.newscrolly}}),h.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var i=h.scrollrunning?h.newscrolly:h.getScrollTop();h.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=h.scrollrunning?h.newscrollx:h.getScrollLeft();h.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){if(t=void 0===t||!1===t?h.getScrollTop(!0):t,h.timer&&h.newscrolly==t&&h.newscrollx==e)return!0;h.timer&&u(h.timer),h.timer=0;var o=h.getScrollTop(),r=h.getScrollLeft();((h.newscrolly-o)*(t-o)<0||(h.newscrollx-r)*(e-r)<0)&&h.cancelScroll(),h.newscrolly=t,h.newscrollx=e,h.bouncescroll&&h.rail.visibility||(h.newscrolly<0?h.newscrolly=0:h.newscrolly>h.page.maxh&&(h.newscrolly=h.page.maxh)),h.bouncescroll&&h.railh.visibility||(h.newscrollx<0?h.newscrollx=0:h.newscrollx>h.page.maxw&&(h.newscrollx=h.page.maxw)),h.dst={},h.dst.x=e-r,h.dst.y=t-o,h.dst.px=r,h.dst.py=o;var n=Math.round(Math.sqrt(Math.pow(h.dst.x,2)+Math.pow(h.dst.y,2)));h.dst.ax=h.dst.x/n,h.dst.ay=h.dst.y/n;var s,a=0,l=n;0==h.dst.x?(a=o,l=t,h.dst.ay=1,h.dst.py=0):0==h.dst.y&&(a=r,l=e,h.dst.ax=1,h.dst.px=0),n=h.getTransitionSpeed(n),i&&i<=1&&(n*=i),h.bzscroll=0<n&&(h.bzscroll?h.bzscroll.update(l,n):new BezierClass(a,l,n,0,1,0,1)),h.timer||((o==h.page.maxh&&t>=h.page.maxh||r==h.page.maxw&&e>=h.page.maxw)&&h.checkContentSize(),s=1,h.cancelAnimationFrame=!1,h.timer=1,h.onscrollstart&&!h.scrollrunning&&h.onscrollstart.call(h,{type:"scrollstart",current:{x:r,y:o},request:{x:e,y:t},end:{x:h.newscrollx,y:h.newscrolly},speed:n}),function e(){if(h.cancelAnimationFrame)return!0;if(h.scrollrunning=!0,s=1-s)return h.timer=c(e)||1;var t,i=0,o=sy=h.getScrollTop();h.dst.ay?(((t=(o=h.bzscroll?h.dst.py+h.bzscroll.getNow()*h.dst.ay:h.newscrolly)-sy)<0&&o<h.newscrolly||0<t&&o>h.newscrolly)&&(o=h.newscrolly),h.setScrollTop(o),o==h.newscrolly&&(i=1)):i=1;var r=sx=h.getScrollLeft();h.dst.ax?(((t=(r=h.bzscroll?h.dst.px+h.bzscroll.getNow()*h.dst.ax:h.newscrollx)-sx)<0&&r<h.newscrollx||0<t&&r>h.newscrollx)&&(r=h.newscrollx),h.setScrollLeft(r),r==h.newscrollx&&(i+=1)):i+=1,2==i?(h.timer=0,h.cursorfreezed=!1,h.bzscroll=!1,h.scrollrunning=!1,o<0?o=0:o>h.page.maxh&&(o=h.page.maxh),r<0?r=0:r>h.page.maxw&&(r=h.page.maxw),r!=h.newscrollx||o!=h.newscrolly?h.doScrollPos(r,o):h.onscrollend&&h.onscrollend.call(h,{type:"scrollend",current:{x:sx,y:sy},end:{x:h.newscrollx,y:h.newscrolly}})):h.timer=c(e)||1}(),(o==h.page.maxh&&o<=t||r==h.page.maxw&&r<=e)&&h.checkContentSize(),h.noticeCursor())},this.cancelScroll=function(){return h.timer&&u(h.timer),h.timer=0,h.bzscroll=!1,h.scrollrunning=!1,h}):(this.doScrollLeft=function(e,t){var i=h.getScrollTop();h.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=h.getScrollLeft();h.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=e>h.page.maxw?h.page.maxw:e;o<0&&(o=0);var r=t>h.page.maxh?h.page.maxh:t;r<0&&(r=0),h.synched("scroll",function(){h.setScrollTop(r),h.setScrollLeft(o)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var i=0,i=t?Math.floor((h.scroll.y-e)*h.scrollratio.y):(h.timer?h.newscrolly:h.getScrollTop(!0))-e;return h.bouncescroll&&(i<-(e=Math.round(h.view.h/2))?i=-e:i>h.page.maxh+e&&(i=h.page.maxh+e)),h.cursorfreezed=!1,py=h.getScrollTop(!0),i<0&&py<=0?h.noticeCursor():i>h.page.maxh&&py>=h.page.maxh?(h.checkContentSize(),h.noticeCursor()):void h.doScrollTop(i)},this.doScrollLeftBy=function(e,t){var i=0,i=t?Math.floor((h.scroll.x-e)*h.scrollratio.x):(h.timer?h.newscrollx:h.getScrollLeft(!0))-e;if(h.bouncescroll&&(i<-(e=Math.round(h.view.w/2))?i=-e:i>h.page.maxw+e&&(i=h.page.maxw+e)),h.cursorfreezed=!1,px=h.getScrollLeft(!0),i<0&&px<=0||i>h.page.maxw&&px>=h.page.maxw)return h.noticeCursor();h.doScrollLeft(i)},this.doScrollTo=function(e,t){t&&Math.round(e*h.scrollratio.y),h.cursorfreezed=!1,h.doScrollTop(e)},this.checkContentSize=function(){var e=h.getContentSize();e.h==h.page.h&&e.w==h.page.w||h.resize(!1,e)},h.onscroll=function(e){h.rail.drag||h.cursorfreezed||h.synched("scroll",function(){h.scroll.y=Math.round(h.getScrollTop()*(1/h.scrollratio.y)),h.railh&&(h.scroll.x=Math.round(h.getScrollLeft()*(1/h.scrollratio.x))),h.noticeCursor()})},h.bind(h.docscroll,"scroll",h.onscroll),this.doZoomIn=function(e){if(!h.zoomactive){h.zoomactive=!0,h.zoomrestore={style:{}};var t,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),o=h.win[0].style;for(t in i){var r=i[t];h.zoomrestore.style[r]=void 0!==o[r]?o[r]:""}return h.zoomrestore.style.width=h.win.css("width"),h.zoomrestore.style.height=h.win.css("height"),h.zoomrestore.padding={w:h.win.outerWidth()-h.win.width(),h:h.win.outerHeight()-h.win.height()},p.isios4&&(h.zoomrestore.scrollTop=m(window).scrollTop(),m(window).scrollTop(0)),h.win.css({position:p.isios4?"absolute":"fixed",top:0,left:0,"z-index":v+100,margin:"0px"}),""!=(i=h.win.css("backgroundColor"))&&!/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i)||h.win.css("backgroundColor","#fff"),h.rail.css({"z-index":v+101}),h.zoom.css({"z-index":v+102}),h.zoom.css("backgroundPosition","0px -18px"),h.resizeZoom(),h.onzoomin&&h.onzoomin.call(h),h.cancelEvent(e)}},this.doZoomOut=function(e){if(h.zoomactive)return h.zoomactive=!1,h.win.css("margin",""),h.win.css(h.zoomrestore.style),p.isios4&&m(window).scrollTop(h.zoomrestore.scrollTop),h.rail.css({"z-index":h.zindex}),h.zoom.css({"z-index":h.zindex}),h.zoomrestore=!1,h.zoom.css("backgroundPosition","0px 0px"),h.onResize(),h.onzoomout&&h.onzoomout.call(h),h.cancelEvent(e)},this.doZoom=function(e){return h.zoomactive?h.doZoomOut(e):h.doZoomIn(e)},this.resizeZoom=function(){var e;h.zoomactive&&(e=h.getScrollTop(),h.win.css({width:m(window).width()-h.zoomrestore.padding.w+"px",height:m(window).height()-h.zoomrestore.padding.h+"px"}),h.onResize(),h.setScrollTop(Math.min(h.page.maxh,e)))},this.init(),m.nicescroll.push(this)}["ms","moz","webkit","o"].forEach(function(e){c=c||window[e+"RequestAnimationFrame"],u=u||(window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"])});var w=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},x=!1,T=function(e){var u=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,t){u.stop();var i=u.time();u.steptime=0,u.lasttime=i,u.speedx=0,u.speedy=0,u.lastx=e,u.lasty=t,u.lastscrollx=-1,u.lastscrolly=-1},this.update=function(e,t){var i=u.time();u.steptime=i-u.lasttime,u.lasttime=i;var i=t-u.lasty,o=e-u.lastx,r=(r=u.nc.getScrollTop())+i,n=(n=u.nc.getScrollLeft())+o;u.snapx=n<0||n>u.nc.page.maxw,u.snapy=r<0||r>u.nc.page.maxh,u.speedx=o,u.speedy=i,u.lastx=e,u.lasty=t},this.stop=function(){u.nc.unsynched("domomentum2d"),u.timer&&clearTimeout(u.timer),u.timer=0,u.lastscrollx=-1,u.lastscrolly=-1},this.doSnapy=function(e,t){var i=!1;t<0?i=!(t=0):t>u.nc.page.maxh&&(t=u.nc.page.maxh,i=!0),e<0?i=!(e=0):e>u.nc.page.maxw&&(e=u.nc.page.maxw,i=!0),i&&u.nc.doScrollPos(e,t,u.nc.opt.snapbackspeed)},this.doMomentum=function(e){var t=u.time(),i=e?t+e:u.lasttime;e=u.nc.getScrollLeft();var o,r,n,s,a=u.nc.getScrollTop(),l=u.nc.page.maxh,c=u.nc.page.maxw;u.speedx=0<c?Math.min(60,u.speedx):0,u.speedy=0<l?Math.min(60,u.speedy):0,i=a<0||l<a||e<0||c<e?!1:i&&t-i<=50,e=!(!u.speedx||!i)&&u.speedx,u.speedy&&i&&u.speedy||e?(50<(o=Math.max(16,u.steptime))&&(e=o/50,u.speedx*=e,u.speedy*=e,o=50),u.demulxy=0,u.lastscrollx=u.nc.getScrollLeft(),u.chkx=u.lastscrollx,u.lastscrolly=u.nc.getScrollTop(),u.chky=u.lastscrolly,r=u.lastscrollx,n=u.lastscrolly,(s=function(){var e=600<u.time()-t?.04:.02;u.speedx&&(r=Math.floor(u.lastscrollx-u.speedx*(1-u.demulxy)),(u.lastscrollx=r)<0||c<r)&&(e=.1),u.speedy&&(n=Math.floor(u.lastscrolly-u.speedy*(1-u.demulxy)),(u.lastscrolly=n)<0||l<n)&&(e=.1),u.demulxy=Math.min(1,u.demulxy+e),u.nc.synched("domomentum2d",function(){u.speedx&&(u.nc.getScrollLeft()!=u.chkx&&u.stop(),u.chkx=r,u.nc.setScrollLeft(r)),u.speedy&&(u.nc.getScrollTop()!=u.chky&&u.stop(),u.chky=n,u.nc.setScrollTop(n)),u.timer||(u.nc.hideCursor(),u.doSnapy(r,n))}),u.demulxy<1?u.timer=setTimeout(s,o):(u.stop(),u.nc.hideCursor(),u.doSnapy(r,n))})()):u.doSnapy(u.nc.getScrollLeft(),u.nc.getScrollTop())}},o=m.fn.scrollTop;m.cssHooks.pageYOffset={get:function(e,t,i){return(t=m.data(e,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollTop():o.call(e)},set:function(e,t){var i=m.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):o.call(e,t),this}},m.fn.scrollTop=function(t){if(void 0!==t)return this.each(function(){var e=m.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):o.call(m(this),t)});var e=this[0]&&m.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():o.call(this)};var n=m.fn.scrollLeft;function s(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0;t<i.length;t++)e.call(i[t]);return i},this.push=function(e){i[i.length]=e,i.length++},this.eq=function(e){return i[e]},e)for(a=0;a<e.length;a++){var t=m.data(e[a],"__nicescroll")||!1;t&&(this[this.length]=t,this.length++)}return this}m.cssHooks.pageXOffset={get:function(e,t,i){return(t=m.data(e,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollLeft():n.call(e)},set:function(e,t){var i=m.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):n.call(e,t),this}},m.fn.scrollLeft=function(t){if(void 0!==t)return this.each(function(){var e=m.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):n.call(m(this),t)});var e=this[0]&&m.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():n.call(this)},function(e){for(var t=0;t<e.length;t++)!function(t){t,function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}(e[t])}("show hide toggle onResize resize remove stop doScrollPos".split(" ")),m.fn.getNiceScroll=function(e){return void 0===e?new s(this):m.data(this[e],"__nicescroll")||!1},m.extend(m.expr[":"],{nicescroll:function(e){return!!m.data(e,"__nicescroll")}}),m.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var i=new s;void 0===t&&(t={}),e&&(t.doc=m(e),t.win=m(this));var o=!("doc"in t);return o||"win"in t||(t.win=m(this)),this.each(function(){var e=m(this).data("__nicescroll")||!1;e||(t.doc=o?m(this):t.doc,e=new r(t,m(this)),m(this).data("__nicescroll",e)),i.push(e)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return m}},m.nicescroll||(m.nicescroll=new s,m.nicescroll.options=d)}(jQuery),function(r){"use strict";function n(e,t){this.el=r(e),this.options=r.extend({},r.fn.typed.defaults,t),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()}n.prototype={constructor:n,init:function(){var t=this;t.timeout=setTimeout(function(){for(var e=0;e<t.strings.length;++e)t.sequence[e]=e;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var e,i=this;!0===this.showCursor&&(this.cursor=r('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement&&(this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children()),e=this.stringsElement.children(),r.each(e,function(e,t){i.strings.push(r(t).html())})),this.init()},typewrite:function(r,n){var e,s;!0!==this.stop&&(e=Math.round(70*Math.random())+this.typeSpeed,(s=this).timeout=setTimeout(function(){var e=0,t=r.substr(n);if("^"===t.charAt(0)&&(i=1,/^\^\d+/.test(t)&&(i+=(t=/\d+/.exec(t)[0]).length,e=parseInt(t)),r=r.substring(0,n)+r.substring(n+i)),"html"===s.contentType){var i=r.substr(n).charAt(0);if("<"===i||"&"===i){for(var o="",o="<"===i?">":";";r.substr(n+1).charAt(0)!==o&&(r.substr(n).charAt(0),!(++n+1>r.length)););n++,0}}s.timeout=setTimeout(function(){var e;n===r.length?(s.options.onStringTyped(s.arrayPos),s.arrayPos===s.strings.length-1&&(s.options.callback(),s.curLoop++,!1===s.loop||s.curLoop===s.loopCount)||(s.timeout=setTimeout(function(){s.backspace(r,n)},s.backDelay))):(0===n&&s.options.preStringTyped(s.arrayPos),e=r.substr(0,n+1),s.attr?s.el.attr(s.attr,e):s.isInput?s.el.val(e):"html"===s.contentType?s.el.html(e):s.el.text(e),n++,s.typewrite(r,n))},e)},e))},backspace:function(t,i){var e,o;!0!==this.stop&&(e=Math.round(70*Math.random())+this.backSpeed,(o=this).timeout=setTimeout(function(){if("html"===o.contentType&&">"===t.substr(i).charAt(0)){for(;"<"!==t.substr(i-1).charAt(0)&&(t.substr(i).charAt(0),!(--i<0)););i--,0}var e=t.substr(0,i);o.attr?o.el.attr(o.attr,e):o.isInput?o.el.val(e):"html"===o.contentType?o.el.html(e):o.el.text(e),i>o.stopNum?(i--,o.backspace(t,i)):i<=o.stopNum&&(o.arrayPos++,o.arrayPos===o.strings.length?(o.arrayPos=0,o.shuffle&&(o.sequence=o.shuffleArray(o.sequence)),o.init()):o.typewrite(o.strings[o.sequence[o.arrayPos]],i))},e))},shuffleArray:function(e){var t,i,o=e.length;if(o)for(;--o;)t=e[i=Math.floor(Math.random()*(o+1))],e[i]=e[o],e[o]=t;return e},reset:function(){clearInterval(this.timeout);this.el.attr("id");this.el.empty(),void 0!==this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},r.fn.typed=function(o){return this.each(function(){var e=r(this),t=e.data("typed"),i="object"==typeof o&&o;t&&t.reset(),e.data("typed",t=new n(this,i)),"string"==typeof o&&t[o]()})},r.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery),function(h,p,m){"use strict";var r={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};function e(e,t){this.element=e,this.layers=e.getElementsByClassName("layer");var i,o={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,"friction-y"),originX:this.data(this.element,"origin-x"),originY:this.data(this.element,"origin-y")};for(i in o)null===o[i]&&delete o[i];this.extend(this,r,t,o),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.bounds=null,this.ex=0,this.ey=0,this.ew=0,this.eh=0,this.ecx=0,this.ecy=0,this.erx=0,this.ery=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}e.prototype.extend=function(){if(1<arguments.length)for(var e=arguments[0],t=1,i=arguments.length;t<i;t++){var o,r=arguments[t];for(o in r)e[o]=r[o]}},e.prototype.data=function(e,t){return this.deserialize(e.getAttribute("data-"+t))},e.prototype.deserialize=function(e){return"true"===e||"false"!==e&&("null"===e?null:!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):e)},e.prototype.camelCase=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},e.prototype.transformSupport=function(e){for(var t,i,o,r,n=p.createElement("div"),s=!1,a=!1,l=null,c=null,u=0,d=this.vendors.length;u<d;u++)if(c=null!==this.vendors[u]?(l=this.vendors[u][0]+"transform",this.vendors[u][1]+"Transform"):l="transform",n.style[c]!==m){s=!0;break}switch(e){case"2D":a=s;break;case"3D":s&&(i=p.body||p.createElement("body"),r=(o=p.documentElement).style.overflow,p.body||(o.style.overflow="hidden",o.appendChild(i),i.style.overflow="hidden",i.style.background=""),i.appendChild(n),n.style[c]="translate3d(1px,1px,1px)",a=(t=h.getComputedStyle(n).getPropertyValue(l))!==m&&0<t.length&&"none"!==t,o.style.overflow=r,i.removeChild(n))}return a},e.prototype.ww=null,e.prototype.wh=null,e.prototype.wcx=null,e.prototype.wcy=null,e.prototype.wrx=null,e.prototype.wry=null,e.prototype.portrait=null,e.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),e.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],e.prototype.motionSupport=!!h.DeviceMotionEvent,e.prototype.orientationSupport=!!h.DeviceOrientationEvent,e.prototype.orientationStatus=0,e.prototype.transform2DSupport=e.prototype.transformSupport("2D"),e.prototype.transform3DSupport=e.prototype.transformSupport("3D"),e.prototype.propertyCache={},e.prototype.initialise=function(){this.transform3DSupport&&this.accelerate(this.element),"static"===h.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},e.prototype.updateLayers=function(){this.layers=this.element.getElementsByClassName("layer"),this.depths=[];for(var e=0,t=this.layers.length;e<t;e++){var i=this.layers[e];this.transform3DSupport&&this.accelerate(i),i.style.position=e?"absolute":"relative",i.style.display="block",i.style.left=0,i.style.top=0,this.depths.push(this.data(i,"depth")||0)}},e.prototype.updateDimensions=function(){this.ww=h.innerWidth,this.wh=h.innerHeight,this.wcx=this.ww*this.originX,this.wcy=this.wh*this.originY,this.wrx=Math.max(this.wcx,this.ww-this.wcx),this.wry=Math.max(this.wcy,this.wh-this.wcy)},e.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect(),this.ex=this.bounds.left,this.ey=this.bounds.top,this.ew=this.bounds.width,this.eh=this.bounds.height,this.ecx=this.ew*this.originX,this.ecy=this.eh*this.originY,this.erx=Math.max(this.ecx,this.ew-this.ecx),this.ery=Math.max(this.ecy,this.eh-this.ecy)},e.prototype.queueCalibration=function(e){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,e)},e.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,h.addEventListener("mousemove",this.onMouseMove)),h.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},e.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?h.removeEventListener("deviceorientation",this.onDeviceOrientation):h.removeEventListener("mousemove",this.onMouseMove),h.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},e.prototype.calibrate=function(e,t){this.calibrateX=e===m?this.calibrateX:e,this.calibrateY=t===m?this.calibrateY:t},e.prototype.invert=function(e,t){this.invertX=e===m?this.invertX:e,this.invertY=t===m?this.invertY:t},e.prototype.friction=function(e,t){this.frictionX=e===m?this.frictionX:e,this.frictionY=t===m?this.frictionY:t},e.prototype.scalar=function(e,t){this.scalarX=e===m?this.scalarX:e,this.scalarY=t===m?this.scalarY:t},e.prototype.limit=function(e,t){this.limitX=e===m?this.limitX:e,this.limitY=t===m?this.limitY:t},e.prototype.origin=function(e,t){this.originX=e===m?this.originX:e,this.originY=t===m?this.originY:t},e.prototype.clamp=function(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)},e.prototype.css=function(e,t,i){var o=this.propertyCache[t];if(!o)for(var r=0,n=this.vendors.length;r<n;r++)if(o=null!==this.vendors[r]?this.camelCase(this.vendors[r][1]+"-"+t):t,e.style[o]!==m){this.propertyCache[t]=o;break}e.style[o]=i},e.prototype.accelerate=function(e){this.css(e,"transform","translate3d(0,0,0)"),this.css(e,"transform-style","preserve-3d"),this.css(e,"backface-visibility","hidden")},e.prototype.setPosition=function(e,t,i){t+="px",i+="px",this.transform3DSupport?this.css(e,"transform","translate3d("+t+","+i+",0)"):this.transform2DSupport?this.css(e,"transform","translate("+t+","+i+")"):(e.style.left=t,e.style.top=i)},e.prototype.onOrientationTimer=function(e){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())},e.prototype.onCalibrationTimer=function(e){this.calibrationFlag=!0},e.prototype.onWindowResize=function(e){this.updateDimensions()},e.prototype.onAnimationFrame=function(){this.updateBounds();var e=this.ix-this.cx,t=this.iy-this.cy;(Math.abs(e)>this.calibrationThreshold||Math.abs(t)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?t:this.iy,this.my=this.calibrateY?e:this.ix):(this.mx=this.calibrateX?e:this.ix,this.my=this.calibrateY?t:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var i=0,o=this.layers.length;i<o;i++){var r=this.layers[i],n=this.depths[i],s=this.vx*n*(this.invertX?-1:1),n=this.vy*n*(this.invertY?-1:1);this.setPosition(r,s,n)}this.raf=requestAnimationFrame(this.onAnimationFrame)},e.prototype.onDeviceOrientation=function(e){var t,i;this.desktop||null===e.beta||null===e.gamma||(this.orientationStatus=1,t=(e.beta||0)/30,i=(e.gamma||0)/30,e=this.wh>this.ww,this.portrait!==e&&(this.portrait=e,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=t,this.cy=i),this.ix=t,this.iy=i)},e.prototype.onMouseMove=function(e){var t=e.clientX,e=e.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(t=Math.max(t,this.ex),t=Math.min(t,this.ex+this.ew),e=Math.max(e,this.ey),e=Math.min(e,this.ey+this.eh)),this.ix=(t-this.ex-this.ecx)/this.erx,this.iy=(e-this.ey-this.ecy)/this.ery):(this.ix=(t-this.wcx)/this.wrx,this.iy=(e-this.wcy)/this.wry)},h.Parallax=e}(window,document),function(){for(var n=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),o=Math.max(0,16-(i-n)),r=window.setTimeout(function(){e(i+o)},o);return n=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(r){"use strict";function o(){m=r.innerWidth||document.documentElement.clientWidth,f=r.innerHeight||document.documentElement.clientHeight}function e(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent("on"+t,function(){i.call(e)})}function t(i){r.requestAnimationFrame(function(){"scroll"!==i.type&&o();for(var e=0,t=h.length;e<t;e++)"scroll"!==i.type&&(h[e].coverImage(),h[e].clipContainer()),h[e].onScroll()})}Date.now||(Date.now=function(){return(new Date).getTime()}),r.requestAnimationFrame||function(){for(var o,e=["webkit","moz"],t=0;t<e.length&&!r.requestAnimationFrame;++t){var i=e[t];r.requestAnimationFrame=r[i+"RequestAnimationFrame"],r.cancelAnimationFrame=r[i+"CancelAnimationFrame"]||r[i+"CancelRequestAnimationFrame"]}!/iP(ad|hone|od).*OS 6/.test(r.navigator.userAgent)&&r.requestAnimationFrame&&r.cancelAnimationFrame||(o=0,r.requestAnimationFrame=function(e){var t=Date.now(),i=Math.max(o+16,t);return setTimeout(function(){e(o=i)},i-t)},r.cancelAnimationFrame=clearTimeout)}();var m,f,y=function(){if(!r.getComputedStyle)return!1;var e,t,i=document.createElement("p"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(t in(document.body||document.documentElement).insertBefore(i,null),o)void 0!==i.style[t]&&(i.style[t]="translate3d(1px,1px,1px)",e=r.getComputedStyle(i).getPropertyValue(o[t]));return(document.body||document.documentElement).removeChild(i),void 0!==e&&0<e.length&&"none"!==e}(),n=-1<navigator.userAgent.toLowerCase().indexOf("android"),s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!r.MSStream,a=!!r.opera,l=/Edge\/\d+/.test(navigator.userAgent),c=/Trident.*rv[ :]*11\./.test(navigator.userAgent),u=!!Function("/*@cc_on return document.documentMode===10@*/")(),g=document.all&&!r.atob;o();var d,h=[],p=(d=0,function(e,t){var i=this;i.$item=e,i.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},e=JSON.parse(i.$item.getAttribute("data-jarallax")||"{}"),i.options=i.extend({},i.defaults,e,t),n&&i.options.noAndroid||s&&i.options.noIos||(i.options.speed=Math.min(2,Math.max(-1,parseFloat(i.options.speed))),(t=i.options.elementInViewport)&&"object"==typeof t&&void 0!==t.length&&(t=t[0]),!t instanceof Element&&(t=null),i.options.elementInViewport=t,i.instanceID=d++,i.image={src:i.options.imgSrc||null,$container:null,$item:null,width:i.options.imgWidth||null,height:i.options.imgHeight||null,useImgTag:s||n||a||c||u||l},i.initImg()&&i.init())});function i(e){("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)&&(e=[e]);for(var t,i=arguments[1],o=Array.prototype.slice.call(arguments,2),r=e.length,n=0;n<r;n++)if("object"==typeof i||void 0===i?e[n].jarallax||(e[n].jarallax=new p(e[n],i)):e[n].jarallax&&(t=e[n].jarallax[i].apply(e[n].jarallax,o)),void 0!==t)return t;return e}p.prototype.css=function(e,t){if("string"==typeof t)return r.getComputedStyle?r.getComputedStyle(e).getPropertyValue(t):e.style[t];for(var i in t.transform&&(t.WebkitTransform=t.MozTransform=t.transform),t)e.style[i]=t[i];return e},p.prototype.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var i in arguments[t])arguments[t].hasOwnProperty(i)&&(e[i]=arguments[t][i]);return e},p.prototype.initImg=function(){var e=this;return null===e.image.src&&(e.image.src=e.css(e.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!e.image.src||"none"===e.image.src)},p.prototype.init=function(){function i(){o.coverImage(),o.clipContainer(),o.onScroll(!0),o.options.onInit&&o.options.onInit.call(o),setTimeout(function(){o.$item&&o.css(o.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}var o=this,e={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},t={position:"fixed"};o.$item.setAttribute("data-jarallax-original-styles",o.$item.getAttribute("style")),"static"===o.css(o.$item,"position")&&o.css(o.$item,{position:"relative"}),"auto"===o.css(o.$item,"z-index")&&o.css(o.$item,{zIndex:0}),o.image.$container=document.createElement("div"),o.css(o.image.$container,e),o.css(o.image.$container,{visibility:"hidden","z-index":o.options.zIndex}),o.image.$container.setAttribute("id","jarallax-container-"+o.instanceID),o.$item.appendChild(o.image.$container),t=o.image.useImgTag&&y&&o.options.enableTransform?(o.image.$item=document.createElement("img"),o.image.$item.setAttribute("src",o.image.src),o.extend({"max-width":"none"},e,t)):(o.image.$item=document.createElement("div"),o.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+o.image.src+'")'},e,t)),g&&(t.backgroundAttachment="fixed"),o.parentWithTransform=0;for(var r=o.$item;null!==r&&r!==document&&0===o.parentWithTransform;){var n=o.css(r,"-webkit-transform")||o.css(r,"-moz-transform")||o.css(r,"transform");n&&"none"!==n&&(o.parentWithTransform=1,o.css(o.image.$container,{transform:"translateX(0) translateY(0)"})),r=r.parentNode}o.css(o.image.$item,t),o.image.$container.appendChild(o.image.$item),o.image.width&&o.image.height?i():o.getImageSize(o.image.src,function(e,t){o.image.width=e,o.image.height=t,i()}),h.push(o)},p.prototype.destroy=function(){for(var e=this,t=0,i=h.length;t<i;t++)if(h[t].instanceID===e.instanceID){h.splice(t,1);break}var o,r=e.$item.getAttribute("data-jarallax-original-styles");for(o in e.$item.removeAttribute("data-jarallax-original-styles"),"null"===r?e.$item.removeAttribute("style"):e.$item.setAttribute("style",r),e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax,e)delete e[o]},p.prototype.getImageSize=function(e,t){var i;e&&t&&((i=new Image).onload=function(){t(i.width,i.height)},i.src=e)},p.prototype.clipContainer=function(){var e,t,i;g||(t=(i=(e=this).image.$container.getBoundingClientRect()).width,i=i.height,e.$clipStyles||(e.$clipStyles=document.createElement("style"),e.$clipStyles.setAttribute("type","text/css"),e.$clipStyles.setAttribute("id","#jarallax-clip-"+e.instanceID),(document.head||document.getElementsByTagName("head")[0]).appendChild(e.$clipStyles)),i=["#jarallax-container-"+e.instanceID+" {","   clip: rect(0 "+t+"px "+i+"px 0);","   clip: rect(0, "+t+"px, "+i+"px, 0);","}"].join("\n"),e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=i:e.$clipStyles.innerHTML=i)},p.prototype.coverImage=function(){var e,t,i,o,r,n,s,a,l,c,u,d,h=this;h.image.width&&h.image.height&&(e=(s=h.image.$container.getBoundingClientRect()).width,t=s.height,i=s.left,o=h.image.width,r=h.image.height,n=h.options.speed,c=t,d=u=l=a=0,(s="scroll"===h.options.type||"scroll-opacity"===h.options.type)&&(a=n<0?n*Math.max(t,f):n*(t+f),1<n?c=Math.abs(a-f):n<0?c=a/n+Math.abs(a):c+=Math.abs(f-t)*(1-n),a/=2),(l=c*o/r)<e&&(c=(l=e)*r/o),h.bgPosVerticalCenter=0,!(s&&c<f)||y&&h.options.enableTransform||(h.bgPosVerticalCenter=(f-c)/2,c=f),d=s?(u=i+(e-l)/2,(f-c)/2):(u=(e-l)/2,(t-c)/2),y&&h.options.enableTransform&&h.parentWithTransform&&(u-=i),h.parallaxScrollDistance=a,h.css(h.image.$item,{width:l+"px",height:c+"px",marginLeft:u+"px",marginTop:d+"px"}),h.options.onCoverImage&&h.options.onCoverImage.call(h))},p.prototype.isVisible=function(){return this.isElementInViewport||!1},p.prototype.onScroll=function(e){var t,i,o,r,n,s,a,l,c,u,d,h,p=this;p.image.width&&p.image.height&&(i=(t=p.$item.getBoundingClientRect()).top,o=t.height,r={position:"absolute",visibility:"visible",backgroundPosition:"50% 50%"},d=t,p.options.elementInViewport&&(d=p.options.elementInViewport.getBoundingClientRect()),p.isElementInViewport=0<=d.bottom&&0<=d.right&&d.top<=f&&d.left<=m,(e||p.isElementInViewport)&&(n=Math.max(0,i),s=Math.max(0,o+i),a=Math.max(0,-i),l=Math.max(0,i+o-f),c=Math.max(0,o-(i+o-f)),u=Math.max(0,-i+f-o),d=1-2*(f-i)/(f+o),e=1,o<f?e=1-(a||l)/o:s<=f?e=s/f:c<=f&&(e=c/f),"opacity"!==p.options.type&&"scale-opacity"!==p.options.type&&"scroll-opacity"!==p.options.type||(r.transform="translate3d(0, 0, 0)",r.opacity=e),"scale"!==p.options.type&&"scale-opacity"!==p.options.type||(h=1,p.options.speed<0?h-=p.options.speed*e:h+=p.options.speed*(1-e),r.transform="scale("+h+") translate3d(0, 0, 0)"),"scroll"!==p.options.type&&"scroll-opacity"!==p.options.type||(h=p.parallaxScrollDistance*d,y&&p.options.enableTransform?(p.parentWithTransform&&(h-=i),r.transform="translate3d(0, "+h+"px, 0)"):p.image.useImgTag?r.top=h+"px":(p.bgPosVerticalCenter&&(h+=p.bgPosVerticalCenter),r.backgroundPosition="50% "+h+"px"),r.position=g?"absolute":"fixed"),p.css(p.image.$item,r),p.options.onScroll&&p.options.onScroll.call(p,{section:t,beforeTop:n,beforeTopEnd:s,afterTop:a,beforeBottom:l,beforeBottomEnd:c,afterBottom:u,visiblePercent:e,fromViewportCenter:d})))},e(r,"scroll",t),e(r,"resize",t),e(r,"orientationchange",t),e(r,"load",t),i.constructor=p;var v,b,w=r.jarallax;r.jarallax=i,r.jarallax.noConflict=function(){return r.jarallax=w,this},"undefined"!=typeof jQuery&&((v=function(){var e=arguments||[];Array.prototype.unshift.call(e,this);e=i.apply(r,e);return"object"!=typeof e?e:this}).constructor=p,b=jQuery.fn.jarallax,jQuery.fn.jarallax=v,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=b,this}),e(r,"DOMContentLoaded",function(){i(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window),function(){"use strict";function t(e){if(!e)throw new Error("No options passed to Waypoint constructor");if(!e.element)throw new Error("No element option passed to Waypoint constructor");if(!e.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=t.Adapter.extend({},t.defaults,e),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=e.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,i+=1}var i=0,n={};t.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},t.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(e){var t,i=[];for(t in n)i.push(n[t]);for(var o=0,r=i.length;o<r;o++)i[o][e]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){for(var e in t.Context.refreshAll(),n)n[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(e){window.setTimeout(e,1e3/60)}function i(e){this.element=e,this.Adapter=p.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+o,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,r[e.waypointContextKey]=this,o+=1,p.windowContext||(p.windowContext=!0,p.windowContext=new i(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var o=0,r={},p=window.Waypoint,e=window.onload;i.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},i.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;e&&t&&!i&&(this.adapter.off(".waypoints"),delete r[this.key])},i.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,p.requestAnimationFrame(e))})},i.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){t.didScroll&&!p.isTouch||(t.didScroll=!0,p.requestAnimationFrame(e))})},i.prototype.handleResize=function(){p.Context.refreshAll()},i.prototype.handleScroll=function(){var e,t,i={},o={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(e in o){var r,n=o[e],s=n.newScroll>n.oldScroll?n.forward:n.backward;for(r in this.waypoints[e]){var a,l,c=this.waypoints[e][r];null!==c.triggerPoint&&(a=n.oldScroll<c.triggerPoint,l=n.newScroll>=c.triggerPoint,(a&&l||!a&&!l)&&(c.queueTrigger(s),i[c.group.id]=c.group))}}for(t in i)i[t].flushTriggers();this.oldScroll={x:o.horizontal.newScroll,y:o.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?p.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?p.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var e,t=[];for(e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,r=t.length;o<r;o++)t[o].destroy()},i.prototype.refresh=function(){var e,t,i=this.element==this.element.window,o=i?void 0:this.adapter.offset(),r={};for(t in this.handleScroll(),e={horizontal:{contextOffset:i?0:o.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:o.top,contextScroll:i?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var n,s=e[t];for(n in this.waypoints[t]){var a,l=this.waypoints[t][n],c=l.options.offset,u=l.triggerPoint,d=0,h=null==u;l.element!==l.element.window&&(d=l.adapter.offset()[s.offsetProp]),"function"==typeof c?c=c.apply(l):"string"==typeof c&&(c=parseFloat(c),-1<l.options.offset.indexOf("%")&&(c=Math.ceil(s.contextDimension*c/100))),a=s.contextScroll-s.contextOffset,l.triggerPoint=Math.floor(d+a-c),a=u<s.oldScroll,c=l.triggerPoint>=s.oldScroll,u=!a&&!c,!h&&(a&&c)?(l.queueTrigger(s.backward),r[l.group.id]=l.group):(!h&&u||h&&s.oldScroll>=l.triggerPoint)&&(l.queueTrigger(s.forward),r[l.group.id]=l.group)}}return p.requestAnimationFrame(function(){for(var e in r)r[e].flushTriggers()}),this},i.findOrCreateByElement=function(e){return i.findByElement(e)||new i(e)},i.refreshAll=function(){for(var e in r)r[e].refresh()},i.findByElement=function(e){return r[e.waypointContextKey]},window.onload=function(){e&&e(),i.refreshAll()},p.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},p.Context=i}(),function(){"use strict";function s(e,t){return e.triggerPoint-t.triggerPoint}function a(e,t){return t.triggerPoint-e.triggerPoint}function t(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},o=window.Waypoint;t.prototype.add=function(e){this.waypoints.push(e)},t.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},t.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var t=this.triggerQueues[e],i="up"===e||"left"===e;t.sort(i?a:s);for(var o=0,r=t.length;o<r;o+=1){var n=t[o];!n.options.continuous&&o!==t.length-1||n.trigger([e])}}this.clearTriggerQueues()},t.prototype.next=function(e){this.waypoints.sort(s);e=o.Adapter.inArray(e,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},t.prototype.previous=function(e){this.waypoints.sort(s);e=o.Adapter.inArray(e,this.waypoints);return e?this.waypoints[e-1]:null},t.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},t.prototype.remove=function(e){e=o.Adapter.inArray(e,this.waypoints);-1<e&&this.waypoints.splice(e,1)},t.prototype.first=function(){return this.waypoints[0]},t.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},t.findOrCreate=function(e){return i[e.axis][e.name]||new t(e)},o.Group=t}(),function(){"use strict";function i(e){this.$element=o(e)}var o=window.jQuery,e=window.Waypoint;o.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){i.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),o.each(["extend","inArray","isEmptyObject"],function(e,t){i[t]=o[t]}),e.adapters.push({name:"jquery",Adapter:i}),e.Adapter=i}(),function(){"use strict";function e(o){return function(){var t=[],i=arguments[0];return o.isFunction(arguments[0])&&((i=o.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var e=o.extend({},i,{element:this});"string"==typeof e.context&&(e.context=o(this).closest(e.context)[0]),t.push(new r(e))}),t}}var r=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.$)}(this,function(a){"use strict";function l(e){return"%"==e[e.length-1]}function t(e,t){function i(e,t){e=u.createShader(e);if(u.shaderSource(e,t),u.compileShader(e),!u.getShaderParameter(e,u.COMPILE_STATUS))throw new Error("compile error: "+u.getShaderInfoLog(e));return e}var o={};if(o.id=u.createProgram(),u.attachShader(o.id,i(u.VERTEX_SHADER,e)),u.attachShader(o.id,i(u.FRAGMENT_SHADER,t)),u.linkProgram(o.id),!u.getProgramParameter(o.id,u.LINK_STATUS))throw new Error("link error: "+u.getProgramInfoLog(o.id));o.uniforms={},o.locations={},u.useProgram(o.id),u.enableVertexAttribArray(0);for(var r,n=/uniform (\w+) (\w+)/g,s=e+t;null!=(r=n.exec(s));)r=r[2],o.locations[r]=u.getUniformLocation(o.id,r);return o}function c(e,t){u.activeTexture(u.TEXTURE0+(t||0)),u.bindTexture(u.TEXTURE_2D,e)}function r(e){e=/url\(["']?([^"']*)["']?\)/.exec(e);return null==e?null:e[1]}var u,d=(a=a&&"default"in a?a.default:a)(window),h=function(){function e(e,t,i){var o="OES_texture_"+e,r=o+"_linear",e=r in n,o=[o];return e&&o.push(r),{type:t,arrayType:i,linearSupport:e,extensions:o}}var t=document.createElement("canvas");if(!(u=t.getContext("webgl")||t.getContext("experimental-webgl")))return null;var n={};if(["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear"].forEach(function(e){var t=u.getExtension(e);t&&(n[e]=t)}),!n.OES_texture_float)return null;var i=[];i.push(e("float",u.FLOAT,Float32Array)),n.OES_texture_half_float&&i.push(e("half_float",n.OES_texture_half_float.HALF_FLOAT_OES,null));var o=u.createTexture(),t=u.createFramebuffer();u.bindFramebuffer(u.FRAMEBUFFER,t),u.bindTexture(u.TEXTURE_2D,o),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE);for(var r=null,s=0;s<i.length;s++)if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,32,32,0,u.RGBA,i[s].type,null),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,o,0),u.checkFramebufferStatus(u.FRAMEBUFFER)===u.FRAMEBUFFER_COMPLETE){r=i[s];break}return r}(),e=function(){try{return new ImageData(32,32)}catch(e){return document.createElement("canvas").getContext("2d").createImageData(32,32)}}();a("head").prepend("<style>.jquery-ripples { position: relative; z-index: 0; }</style>");function n(e,t){var i=this;this.$el=a(e),this.interactive=t.interactive,this.resolution=t.resolution,this.textureDelta=new Float32Array([1/this.resolution,1/this.resolution]),this.perturbance=t.perturbance,this.dropRadius=t.dropRadius,this.crossOrigin=t.crossOrigin,this.imageUrl=t.imageUrl,(t=document.createElement("canvas")).width=this.$el.innerWidth(),t.height=this.$el.innerHeight(),this.canvas=t,this.$canvas=a(t),this.$canvas.css({position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:-1}),this.$el.addClass("jquery-ripples").append(t),this.context=u=t.getContext("webgl")||t.getContext("experimental-webgl"),h.extensions.forEach(function(e){u.getExtension(e)}),a(window).on("resize",function(){i.updateSize()}),this.textures=[],this.framebuffers=[],this.bufferWriteIndex=0,this.bufferReadIndex=1;for(var o=(t=h.arrayType)?new t(this.resolution*this.resolution*4):null,r=0;r<2;r++){var n=u.createTexture(),s=u.createFramebuffer();u.bindFramebuffer(u.FRAMEBUFFER,s),u.bindTexture(u.TEXTURE_2D,n),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,h.linearSupport?u.LINEAR:u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,h.linearSupport?u.LINEAR:u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,this.resolution,this.resolution,0,u.RGBA,h.type,o),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,n,0),this.textures.push(n),this.framebuffers.push(s)}this.quad=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.quad),u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),u.STATIC_DRAW),this.initShaders(),this.initTexture(),this.setTransparentTexture(),this.loadImage(),u.clearColor(0,0,0,0),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),this.visible=!0,this.running=!0,this.inited=!0,this.destroyed=!1,this.setupPointerEvents(),requestAnimationFrame(function e(){i.destroyed||(i.step(),requestAnimationFrame(e))})}n.DEFAULTS={imageUrl:null,resolution:256,dropRadius:20,perturbance:.03,interactive:!0,crossOrigin:""},n.prototype={setupPointerEvents:function(){function o(e,t){i.visible&&i.running&&i.interactive&&i.dropAtPointer(e,i.dropRadius*(t?1.5:1),t?.14:.01)}var i=this;this.$el.on("mousemove.ripples",function(e){o(e)}).on("touchmove.ripples, touchstart.ripples",function(e){for(var t=e.originalEvent.changedTouches,i=0;i<t.length;i++)o(t[i])}).on("mousedown.ripples",function(e){o(e,!0)})},loadImage:function(){var i=this;u=this.context;var o,e=this.imageUrl||r(this.originalCssBackgroundImage)||r(this.$el.css("backgroundImage"));e!=this.imageSource&&(this.imageSource=e,this.imageSource?((o=new Image).onload=function(){function e(e){return 0==(e&e-1)}u=i.context;var t=e(o.width)&&e(o.height)?u.REPEAT:u.CLAMP_TO_EDGE;u.bindTexture(u.TEXTURE_2D,i.backgroundTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,t),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,o),i.backgroundWidth=o.width,i.backgroundHeight=o.height,i.hideCssBackground()},o.onerror=function(){u=i.context,i.setTransparentTexture()},o.crossOrigin=this.imageSource.match(/^data:/)?null:this.crossOrigin,o.src=this.imageSource):this.setTransparentTexture())},step:function(){u=this.context,this.visible&&(this.computeTextureBoundaries(),this.running&&this.update(),this.render())},drawQuad:function(){u.bindBuffer(u.ARRAY_BUFFER,this.quad),u.vertexAttribPointer(0,2,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLE_FAN,0,4)},render:function(){u.bindFramebuffer(u.FRAMEBUFFER,null),u.viewport(0,0,this.canvas.width,this.canvas.height),u.enable(u.BLEND),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.useProgram(this.renderProgram.id),c(this.backgroundTexture,0),c(this.textures[0],1),u.uniform1f(this.renderProgram.locations.perturbance,this.perturbance),u.uniform2fv(this.renderProgram.locations.topLeft,this.renderProgram.uniforms.topLeft),u.uniform2fv(this.renderProgram.locations.bottomRight,this.renderProgram.uniforms.bottomRight),u.uniform2fv(this.renderProgram.locations.containerRatio,this.renderProgram.uniforms.containerRatio),u.uniform1i(this.renderProgram.locations.samplerBackground,0),u.uniform1i(this.renderProgram.locations.samplerRipples,1),this.drawQuad(),u.disable(u.BLEND)},update:function(){u.viewport(0,0,this.resolution,this.resolution),u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),c(this.textures[this.bufferReadIndex]),u.useProgram(this.updateProgram.id),this.drawQuad(),this.swapBufferIndices()},swapBufferIndices:function(){this.bufferWriteIndex=1-this.bufferWriteIndex,this.bufferReadIndex=1-this.bufferReadIndex},computeTextureBoundaries:function(){var e,t,i=this.$el.css("background-size"),o=this.$el.css("background-attachment"),r=function(t){var e=t.split(" ");if(1!==e.length)return e.map(function(e){switch(t){case"center":return"50%";case"top":case"left":return"0";case"right":case"bottom":return"100%";default:return e}});switch(t){case"center":return["50%","50%"];case"top":return["50%","0"];case"bottom":return["50%","100%"];case"left":return["0","50%"];case"right":return["100%","50%"];default:return[t,"50%"]}}(this.$el.css("background-position"));"fixed"==o?((n={left:window.pageXOffset,top:window.pageYOffset}).width=d.width(),n.height=d.height()):((n=this.$el.offset()).width=this.$el.innerWidth(),n.height=this.$el.innerHeight()),"cover"==i?(e=Math.max(n.width/this.backgroundWidth,n.height/this.backgroundHeight),t=this.backgroundWidth*e,s=this.backgroundHeight*e):"contain"==i?(e=Math.min(n.width/this.backgroundWidth,n.height/this.backgroundHeight),t=this.backgroundWidth*e,s=this.backgroundHeight*e):(t=(i=i.split(" "))[0]||"",s=i[1]||t,l(t)?t=n.width*parseFloat(t)/100:"auto"!=t&&(t=parseFloat(t)),l(s)?s=n.height*parseFloat(s)/100:"auto"!=s&&(s=parseFloat(s)),"auto"==t&&"auto"==s?(t=this.backgroundWidth,s=this.backgroundHeight):("auto"==t&&(t=this.backgroundWidth*(s/this.backgroundHeight)),"auto"==s&&(s=this.backgroundHeight*(t/this.backgroundWidth))));var i=r[0],r=r[1],i=l(i)?n.left+(n.width-t)*parseFloat(i)/100:n.left+parseFloat(i),r=l(r)?n.top+(n.height-s)*parseFloat(r)/100:n.top+parseFloat(r),n=this.$el.offset();this.renderProgram.uniforms.topLeft=new Float32Array([(n.left-i)/t,(n.top-r)/s]),this.renderProgram.uniforms.bottomRight=new Float32Array([this.renderProgram.uniforms.topLeft[0]+this.$el.innerWidth()/t,this.renderProgram.uniforms.topLeft[1]+this.$el.innerHeight()/s]);var s=Math.max(this.canvas.width,this.canvas.height);this.renderProgram.uniforms.containerRatio=new Float32Array([this.canvas.width/s,this.canvas.height/s])},initShaders:function(){var e=["attribute vec2 vertex;","varying vec2 coord;","void main() {","coord = vertex * 0.5 + 0.5;","gl_Position = vec4(vertex, 0.0, 1.0);","}"].join("\n");this.dropProgram=t(e,["precision highp float;","const float PI = 3.141592653589793;","uniform sampler2D texture;","uniform vec2 center;","uniform float radius;","uniform float strength;","varying vec2 coord;","void main() {","vec4 info = texture2D(texture, coord);","float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);","drop = 0.5 - cos(drop * PI) * 0.5;","info.r += drop * strength;","gl_FragColor = info;","}"].join("\n")),this.updateProgram=t(e,["precision highp float;","uniform sampler2D texture;","uniform vec2 delta;","varying vec2 coord;","void main() {","vec4 info = texture2D(texture, coord);","vec2 dx = vec2(delta.x, 0.0);","vec2 dy = vec2(0.0, delta.y);","float average = (","texture2D(texture, coord - dx).r +","texture2D(texture, coord - dy).r +","texture2D(texture, coord + dx).r +","texture2D(texture, coord + dy).r",") * 0.25;","info.g += (average - info.r) * 2.0;","info.g *= 0.995;","info.r += info.g;","gl_FragColor = info;","}"].join("\n")),u.uniform2fv(this.updateProgram.locations.delta,this.textureDelta),this.renderProgram=t(["precision highp float;","attribute vec2 vertex;","uniform vec2 topLeft;","uniform vec2 bottomRight;","uniform vec2 containerRatio;","varying vec2 ripplesCoord;","varying vec2 backgroundCoord;","void main() {","backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);","backgroundCoord.y = 1.0 - backgroundCoord.y;","ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;","gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);","}"].join("\n"),["precision highp float;","uniform sampler2D samplerBackground;","uniform sampler2D samplerRipples;","uniform vec2 delta;","uniform float perturbance;","varying vec2 ripplesCoord;","varying vec2 backgroundCoord;","void main() {","float height = texture2D(samplerRipples, ripplesCoord).r;","float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;","float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;","vec3 dx = vec3(delta.x, heightX - height, 0.0);","vec3 dy = vec3(0.0, heightY - height, delta.y);","vec2 offset = -normalize(cross(dy, dx)).xz;","float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);","gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;","}"].join("\n")),u.uniform2fv(this.renderProgram.locations.delta,this.textureDelta)},initTexture:function(){this.backgroundTexture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.backgroundTexture),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,1),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR)},setTransparentTexture:function(){u.bindTexture(u.TEXTURE_2D,this.backgroundTexture),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,e)},hideCssBackground:function(){var e=this.$el[0].style.backgroundImage;"none"!=e&&(this.originalInlineCss=e,this.originalCssBackgroundImage=this.$el.css("backgroundImage"),this.$el.css("backgroundImage","none"))},restoreCssBackground:function(){this.$el.css("backgroundImage",this.originalInlineCss||"")},dropAtPointer:function(e,t,i){var o=parseInt(this.$el.css("border-left-width"))||0,r=parseInt(this.$el.css("border-top-width"))||0;this.drop(e.pageX-this.$el.offset().left-o,e.pageY-this.$el.offset().top-r,t,i)},drop:function(e,t,i,o){u=this.context;var r=this.$el.innerWidth(),n=this.$el.innerHeight(),s=Math.max(r,n);i/=s;s=new Float32Array([(2*e-r)/s,(n-2*t)/s]);u.viewport(0,0,this.resolution,this.resolution),u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),c(this.textures[this.bufferReadIndex]),u.useProgram(this.dropProgram.id),u.uniform2fv(this.dropProgram.locations.center,s),u.uniform1f(this.dropProgram.locations.radius,i),u.uniform1f(this.dropProgram.locations.strength,o),this.drawQuad(),this.swapBufferIndices()},updateSize:function(){var e=this.$el.innerWidth(),t=this.$el.innerHeight();e==this.canvas.width&&t==this.canvas.height||(this.canvas.width=e,this.canvas.height=t)},destroy:function(){this.$el.off(".ripples").removeClass("jquery-ripples").removeData("ripples"),this.$canvas.remove(),this.restoreCssBackground(),this.destroyed=!0},show:function(){this.visible=!0,this.$canvas.show(),this.hideCssBackground()},hide:function(){this.visible=!1,this.$canvas.hide(),this.restoreCssBackground()},pause:function(){this.running=!1},play:function(){this.running=!0},set:function(e,t){switch(e){case"dropRadius":case"perturbance":case"interactive":case"crossOrigin":this[e]=t;break;case"imageUrl":this.imageUrl=t,this.loadImage()}}};var i=a.fn.ripples;a.fn.ripples=function(o){if(!h)throw new Error("Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.");var r=1<arguments.length?Array.prototype.slice.call(arguments,1):void 0;return this.each(function(){var e=a(this),t=e.data("ripples"),i=a.extend({},n.DEFAULTS,e.data(),"object"==typeof o&&o);!t&&"string"==typeof o||(t?"string"==typeof o&&n.prototype[o].apply(t,r):e.data("ripples",t=new n(this,i)))})},a.fn.ripples.Constructor=n,a.fn.ripples.noConflict=function(){return a.fn.ripples=i,this}}),function(p){"use strict";function t(e,t){this.element=e,this.settings=p.extend({},o,t),this._defaults=o,this._name=i,this.init()}var i="mgGlitch",o={destroy:!1,glitch:!0,scale:!0,blend:!0,blendModeType:"hue",glitch1TimeMin:600,glitch1TimeMax:900,glitch2TimeMin:10,glitch2TimeMax:115,zIndexStart:5};p.extend(t.prototype,{init:function(){this.glitch()},glitch:function(){function a(e,t){return Math.floor(Math.random()*(t-e+1))+e}var l=this.element,c=this.settings.scale,s=this.settings.glitch1TimeMin,u=this.settings.glitch1TimeMax,d=this.settings.glitch2TimeMin,h=this.settings.glitch2TimeMax,e=this.settings.zIndexStart;!0===this.settings.destroy?((p(l).hasClass("el-front-1")||p(l).hasClass("front-3")||p(l).hasClass("front-2"))&&p(".front-1, .front-2, .front-3").remove(),p(".back").removeClass("back")):!1===this.settings.destroy&&(p(l).clone().insertBefore(l).addClass("back").css({"z-index":e}),!0===this.settings.blend&&(p(l).clone().insertAfter(l).addClass("front-3").css({"z-index":e+3,"mix-blend-mode":this.settings.blendModeType}),function e(){var t,i=a(10,1900),o=a(10,1300),r=a(0,40),n=a(0,40),s=a(d,h);!0===c?t=(Math.random()*(1.1-.9)+.9).toFixed(2):!1===c&&(t=1),p(l).next().next().css({clip:"rect("+i+"px, 9999px, "+o+"px,0px)",left:r,right:n,"-webkit-transform":"scale("+t+")","-ms-transform":"scale("+t+")",transform:"scale("+t+")"}),setTimeout(e,s)}()),!0===this.settings.glitch&&(p(l).clone().insertAfter(l).addClass("front-2").css({"z-index":e+2}),p(".back").next().addClass("front-1").css({"z-index":e+1}),function e(){var t=a(10,1900),i=a(10,1300),o=a(0,16),r=a(0,16),n=a(s,u);p(l).css({clip:"rect("+t+"px, 9999px, "+i+"px,0px)",right:r,left:o}),setTimeout(e,n)}(),function e(){var t,i=a(10,1900),o=a(10,1300),r=a(0,40),n=a(0,40),s=a(d,h);!0===c?t=(Math.random()*(1.1-.9)+.9).toFixed(2):!1===c&&(t=1),p(l).next().css({clip:"rect("+i+"px, 9999px, "+o+"px,0px)",left:r,right:n,"-webkit-transform":"scale("+t+")","-ms-transform":"scale("+t+")",transform:"scale("+t+")"}),setTimeout(e,s)}()))}}),p.fn[i]=function(e){return this.each(function(){new t(this,e)})}}(jQuery,(window,document));var pJS=function(e,t){var i=document.querySelector("#"+e+" > .particles-js-canvas-el");this.pJS={canvas:{el:i,w:i.offsetWidth,h:i.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var d=this.pJS;t&&Object.deepExtend(d,t),d.tmp.obj={size_value:d.particles.size.value,size_anim_speed:d.particles.size.anim.speed,move_speed:d.particles.move.speed,line_linked_distance:d.particles.line_linked.distance,line_linked_width:d.particles.line_linked.width,mode_grab_distance:d.interactivity.modes.grab.distance,mode_bubble_distance:d.interactivity.modes.bubble.distance,mode_bubble_size:d.interactivity.modes.bubble.size,mode_repulse_distance:d.interactivity.modes.repulse.distance},d.fn.retinaInit=function(){d.retina_detect&&1<window.devicePixelRatio?(d.canvas.pxratio=window.devicePixelRatio,d.tmp.retina=!0):(d.canvas.pxratio=1,d.tmp.retina=!1),d.canvas.w=d.canvas.el.offsetWidth*d.canvas.pxratio,d.canvas.h=d.canvas.el.offsetHeight*d.canvas.pxratio,d.particles.size.value=d.tmp.obj.size_value*d.canvas.pxratio,d.particles.size.anim.speed=d.tmp.obj.size_anim_speed*d.canvas.pxratio,d.particles.move.speed=d.tmp.obj.move_speed*d.canvas.pxratio,d.particles.line_linked.distance=d.tmp.obj.line_linked_distance*d.canvas.pxratio,d.interactivity.modes.grab.distance=d.tmp.obj.mode_grab_distance*d.canvas.pxratio,d.interactivity.modes.bubble.distance=d.tmp.obj.mode_bubble_distance*d.canvas.pxratio,d.particles.line_linked.width=d.tmp.obj.line_linked_width*d.canvas.pxratio,d.interactivity.modes.bubble.size=d.tmp.obj.mode_bubble_size*d.canvas.pxratio,d.interactivity.modes.repulse.distance=d.tmp.obj.mode_repulse_distance*d.canvas.pxratio},d.fn.canvasInit=function(){d.canvas.ctx=d.canvas.el.getContext("2d")},d.fn.canvasSize=function(){d.canvas.el.width=d.canvas.w,d.canvas.el.height=d.canvas.h,d&&d.interactivity.events.resize&&window.addEventListener("resize",function(){d.canvas.w=d.canvas.el.offsetWidth,d.canvas.h=d.canvas.el.offsetHeight,d.tmp.retina&&(d.canvas.w*=d.canvas.pxratio,d.canvas.h*=d.canvas.pxratio),d.canvas.el.width=d.canvas.w,d.canvas.el.height=d.canvas.h,d.particles.move.enable||(d.fn.particlesEmpty(),d.fn.particlesCreate(),d.fn.particlesDraw(),d.fn.vendors.densityAutoParticles()),d.fn.vendors.densityAutoParticles()})},d.fn.canvasPaint=function(){d.canvas.ctx.fillRect(0,0,d.canvas.w,d.canvas.h)},d.fn.canvasClear=function(){d.canvas.ctx.clearRect(0,0,d.canvas.w,d.canvas.h)},d.fn.particle=function(e,t,i){this.radius=(d.particles.size.random?Math.random():1)*d.particles.size.value,d.particles.size.anim.enable&&(this.size_status=!1,this.vs=d.particles.size.anim.speed/100,d.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=i?i.x:Math.random()*d.canvas.w,this.y=i?i.y:Math.random()*d.canvas.h,this.x>d.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>d.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),d.particles.move.bounce&&d.fn.vendors.checkOverlap(this,i),this.color={},"object"==typeof e.value?e.value instanceof Array?(r=e.value[Math.floor(Math.random()*d.particles.color.value.length)],this.color.rgb=hexToRgb(r)):(null!=e.value.r&&null!=e.value.g&&null!=e.value.b&&(this.color.rgb={r:e.value.r,g:e.value.g,b:e.value.b}),null!=e.value.h&&null!=e.value.s&&null!=e.value.l&&(this.color.hsl={h:e.value.h,s:e.value.s,l:e.value.l})):"random"==e.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof e.value&&(this.color=e,this.color.rgb=hexToRgb(this.color.value)),this.opacity=(d.particles.opacity.random?Math.random():1)*d.particles.opacity.value,d.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=d.particles.opacity.anim.speed/100,d.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var o={};switch(d.particles.move.direction){case"top":o={x:0,y:-1};break;case"top-right":o={x:.5,y:-.5};break;case"right":o={x:1,y:-0};break;case"bottom-right":o={x:.5,y:.5};break;case"bottom":o={x:0,y:1};break;case"bottom-left":o={x:-.5,y:1};break;case"left":o={x:-1,y:0};break;case"top-left":o={x:-.5,y:-.5};break;default:o={x:0,y:0}}d.particles.move.straight?(this.vx=o.x,this.vy=o.y,d.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=o.x+Math.random()-.5,this.vy=o.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var r=d.particles.shape.type;"object"==typeof r?r instanceof Array&&(e=r[Math.floor(Math.random()*r.length)],this.shape=e):this.shape=r,"image"==this.shape&&(r=d.particles.shape,this.img={src:r.image.src,ratio:r.image.width/r.image.height},this.img.ratio||(this.img.ratio=1),"svg"==d.tmp.img_type&&null!=d.tmp.source_svg&&(d.fn.vendors.createSvgImg(this),d.tmp.pushing&&(this.img.loaded=!1)))},d.fn.particle.prototype.draw=function(){var e,t,i,o=this;switch(e=null!=o.radius_bubble?o.radius_bubble:o.radius,t=null!=o.opacity_bubble?o.opacity_bubble:o.opacity,t=o.color.rgb?"rgba("+o.color.rgb.r+","+o.color.rgb.g+","+o.color.rgb.b+","+t+")":"hsla("+o.color.hsl.h+","+o.color.hsl.s+"%,"+o.color.hsl.l+"%,"+t+")",d.canvas.ctx.fillStyle=t,d.canvas.ctx.beginPath(),o.shape){case"circle":d.canvas.ctx.arc(o.x,o.y,e,0,2*Math.PI,!1);break;case"edge":d.canvas.ctx.rect(o.x-e,o.y-e,2*e,2*e);break;case"triangle":d.fn.vendors.drawShape(d.canvas.ctx,o.x-e,o.y+e/1.66,2*e,3,2);break;case"polygon":d.fn.vendors.drawShape(d.canvas.ctx,o.x-e/(d.particles.shape.polygon.nb_sides/3.5),o.y-e/.76,2.66*e/(d.particles.shape.polygon.nb_sides/3),d.particles.shape.polygon.nb_sides,1);break;case"star":d.fn.vendors.drawShape(d.canvas.ctx,o.x-2*e/(d.particles.shape.polygon.nb_sides/4),o.y-e/1.52,2*e*2.66/(d.particles.shape.polygon.nb_sides/3),d.particles.shape.polygon.nb_sides,2);break;case"image":(i="svg"==d.tmp.img_type?o.img.obj:d.tmp.img_obj)&&d.canvas.ctx.drawImage(i,o.x-e,o.y-e,2*e,2*e/o.img.ratio)}d.canvas.ctx.closePath(),0<d.particles.shape.stroke.width&&(d.canvas.ctx.strokeStyle=d.particles.shape.stroke.color,d.canvas.ctx.lineWidth=d.particles.shape.stroke.width,d.canvas.ctx.stroke()),d.canvas.ctx.fill()},d.fn.particlesCreate=function(){for(var e=0;e<d.particles.number.value;e++)d.particles.array.push(new d.fn.particle(d.particles.color,d.particles.opacity.value))},d.fn.particlesUpdate=function(){for(var e=0;e<d.particles.array.length;e++){var t,i=d.particles.array[e];if(d.particles.move.enable&&(t=d.particles.move.speed/2,i.x+=i.vx*t,i.y+=i.vy*t),d.particles.opacity.anim.enable&&(1==i.opacity_status?(i.opacity>=d.particles.opacity.value&&(i.opacity_status=!1),i.opacity+=i.vo):(i.opacity<=d.particles.opacity.anim.opacity_min&&(i.opacity_status=!0),i.opacity-=i.vo),i.opacity<0&&(i.opacity=0)),d.particles.size.anim.enable&&(1==i.size_status?(i.radius>=d.particles.size.value&&(i.size_status=!1),i.radius+=i.vs):(i.radius<=d.particles.size.anim.size_min&&(i.size_status=!0),i.radius-=i.vs),i.radius<0&&(i.radius=0)),t="bounce"==d.particles.move.out_mode?{x_left:i.radius,x_right:d.canvas.w,y_top:i.radius,y_bottom:d.canvas.h}:{x_left:-i.radius,x_right:d.canvas.w+i.radius,y_top:-i.radius,y_bottom:d.canvas.h+i.radius},"bounce"===(i.x-i.radius>d.canvas.w?(i.x=t.x_left,i.y=Math.random()*d.canvas.h):i.x+i.radius<0&&(i.x=t.x_right,i.y=Math.random()*d.canvas.h),i.y-i.radius>d.canvas.h?(i.y=t.y_top,i.x=Math.random()*d.canvas.w):i.y+i.radius<0&&(i.y=t.y_bottom,i.x=Math.random()*d.canvas.w),d.particles.move.out_mode)&&((i.x+i.radius>d.canvas.w||i.x-i.radius<0)&&(i.vx=-i.vx),(i.y+i.radius>d.canvas.h||i.y-i.radius<0)&&(i.vy=-i.vy)),isInArray("grab",d.interactivity.events.onhover.mode)&&d.fn.modes.grabParticle(i),(isInArray("bubble",d.interactivity.events.onhover.mode)||isInArray("bubble",d.interactivity.events.onclick.mode))&&d.fn.modes.bubbleParticle(i),(isInArray("repulse",d.interactivity.events.onhover.mode)||isInArray("repulse",d.interactivity.events.onclick.mode))&&d.fn.modes.repulseParticle(i),d.particles.line_linked.enable||d.particles.move.attract.enable)for(var o=e+1;o<d.particles.array.length;o++){var r=d.particles.array[o];d.particles.line_linked.enable&&d.fn.interact.linkParticles(i,r),d.particles.move.attract.enable&&d.fn.interact.attractParticles(i,r),d.particles.move.bounce&&d.fn.interact.bounceParticles(i,r)}}},d.fn.particlesDraw=function(){d.canvas.ctx.clearRect(0,0,d.canvas.w,d.canvas.h),d.fn.particlesUpdate();for(var e=0;e<d.particles.array.length;e++)d.particles.array[e].draw()},d.fn.particlesEmpty=function(){d.particles.array=[]},d.fn.particlesRefresh=function(){cancelRequestAnimFrame(d.fn.checkAnimFrame),cancelRequestAnimFrame(d.fn.drawAnimFrame),d.tmp.source_svg=void 0,d.tmp.img_obj=void 0,d.tmp.count_svg=0,d.fn.particlesEmpty(),d.fn.canvasClear(),d.fn.vendors.start()},d.fn.interact.linkParticles=function(e,t){var i=e.x-t.x,o=e.y-t.y,i=Math.sqrt(i*i+o*o);i<=d.particles.line_linked.distance&&(0<(o=d.particles.line_linked.opacity-i/(1/d.particles.line_linked.opacity)/d.particles.line_linked.distance)&&(i=d.particles.line_linked.color_rgb_line,d.canvas.ctx.strokeStyle="rgba("+i.r+","+i.g+","+i.b+","+o+")",d.canvas.ctx.lineWidth=d.particles.line_linked.width,d.canvas.ctx.beginPath(),d.canvas.ctx.moveTo(e.x,e.y),d.canvas.ctx.lineTo(t.x,t.y),d.canvas.ctx.stroke(),d.canvas.ctx.closePath()))},d.fn.interact.attractParticles=function(e,t){var i=e.x-t.x,o=e.y-t.y;Math.sqrt(i*i+o*o)<=d.particles.line_linked.distance&&(i=i/(1e3*d.particles.move.attract.rotateX),o=o/(1e3*d.particles.move.attract.rotateY),e.vx-=i,e.vy-=o,t.vx+=i,t.vy+=o)},d.fn.interact.bounceParticles=function(e,t){var i=e.x-t.x,o=e.y-t.y;Math.sqrt(i*i+o*o)<=e.radius+t.radius&&(e.vx=-e.vx,e.vy=-e.vy,t.vx=-t.vx,t.vy=-t.vy)},d.fn.modes.pushParticles=function(e,t){d.tmp.pushing=!0;for(var i=0;i<e;i++)d.particles.array.push(new d.fn.particle(d.particles.color,d.particles.opacity.value,{x:t?t.pos_x:Math.random()*d.canvas.w,y:t?t.pos_y:Math.random()*d.canvas.h})),i==e-1&&(d.particles.move.enable||d.fn.particlesDraw(),d.tmp.pushing=!1)},d.fn.modes.removeParticles=function(e){d.particles.array.splice(0,e),d.particles.move.enable||d.fn.particlesDraw()},d.fn.modes.bubbleParticle=function(s){function e(){s.opacity_bubble=s.opacity,s.radius_bubble=s.radius}function t(e,t,i,o,r){var n;e!=t&&(d.tmp.bubble_duration_end?null!=i&&(n=e+(e-(o-u*(o-e)/d.interactivity.modes.bubble.duration)),"size"==r&&(s.radius_bubble=n),"opacity"==r&&(s.opacity_bubble=n)):c<=d.interactivity.modes.bubble.distance?(null!=i?i:o)!=e&&(n=o-u*(o-e)/d.interactivity.modes.bubble.duration,"size"==r&&(s.radius_bubble=n),"opacity"==r&&(s.opacity_bubble=n)):("size"==r&&(s.radius_bubble=void 0),"opacity"==r&&(s.opacity_bubble=void 0)))}var i,o,r,n,a,l,c,u;d.interactivity.events.onhover.enable&&isInArray("bubble",d.interactivity.events.onhover.mode)?(a=s.x-d.interactivity.mouse.pos_x,l=s.y-d.interactivity.mouse.pos_y,i=1-(c=Math.sqrt(a*a+l*l))/d.interactivity.modes.bubble.distance,c<=d.interactivity.modes.bubble.distance?0<=i&&"mousemove"==d.interactivity.status&&(d.interactivity.modes.bubble.size!=d.particles.size.value&&(d.interactivity.modes.bubble.size>d.particles.size.value?0<=(r=s.radius+d.interactivity.modes.bubble.size*i)&&(s.radius_bubble=r):(o=s.radius-d.interactivity.modes.bubble.size,r=s.radius-o*i,s.radius_bubble=0<r?r:0)),d.interactivity.modes.bubble.opacity!=d.particles.opacity.value&&(d.interactivity.modes.bubble.opacity>d.particles.opacity.value?(n=d.interactivity.modes.bubble.opacity*i)>s.opacity&&n<=d.interactivity.modes.bubble.opacity&&(s.opacity_bubble=n):(n=s.opacity-(d.particles.opacity.value-d.interactivity.modes.bubble.opacity)*i)<s.opacity&&n>=d.interactivity.modes.bubble.opacity&&(s.opacity_bubble=n))):e(),"mouseleave"==d.interactivity.status&&e()):d.interactivity.events.onclick.enable&&isInArray("bubble",d.interactivity.events.onclick.mode)&&(d.tmp.bubble_clicking&&(a=s.x-d.interactivity.mouse.click_pos_x,l=s.y-d.interactivity.mouse.click_pos_y,c=Math.sqrt(a*a+l*l),(u=((new Date).getTime()-d.interactivity.mouse.click_time)/1e3)>d.interactivity.modes.bubble.duration&&(d.tmp.bubble_duration_end=!0),u>2*d.interactivity.modes.bubble.duration&&(d.tmp.bubble_clicking=!1,d.tmp.bubble_duration_end=!1)),d.tmp.bubble_clicking&&(t(d.interactivity.modes.bubble.size,d.particles.size.value,s.radius_bubble,s.radius,"size"),t(d.interactivity.modes.bubble.opacity,d.particles.opacity.value,s.opacity_bubble,s.opacity,"opacity")))},d.fn.modes.repulseParticle=function(i){var e,t,o,r,n,s,a;d.interactivity.events.onhover.enable&&isInArray("repulse",d.interactivity.events.onhover.mode)&&"mousemove"==d.interactivity.status?(t=i.x-d.interactivity.mouse.pos_x,o=i.y-d.interactivity.mouse.pos_y,e=t/(s=Math.sqrt(t*t+o*o)),t=o/s,s=clamp(1/(o=d.interactivity.modes.repulse.distance)*(-1*Math.pow(s/o,2)+1)*o*100,0,50),s={x:i.x+e*s,y:i.y+t*s},"bounce"==d.particles.move.out_mode?(0<s.x-i.radius&&s.x+i.radius<d.canvas.w&&(i.x=s.x),0<s.y-i.radius&&s.y+i.radius<d.canvas.h&&(i.y=s.y)):(i.x=s.x,i.y=s.y)):d.interactivity.events.onclick.enable&&isInArray("repulse",d.interactivity.events.onclick.mode)&&(d.tmp.repulse_finish||(d.tmp.repulse_count++,d.tmp.repulse_count==d.particles.array.length&&(d.tmp.repulse_finish=!0)),d.tmp.repulse_clicking?(o=Math.pow(d.interactivity.modes.repulse.distance/6,3),r=d.interactivity.mouse.click_pos_x-i.x,n=d.interactivity.mouse.click_pos_y-i.y,a=-o/(s=r*r+n*n)*1,s<=o&&function(){var e,t=Math.atan2(n,r);i.vx=a*Math.cos(t),i.vy=a*Math.sin(t),"bounce"==d.particles.move.out_mode&&(e=i.x+i.vx,t=i.y+i.vy,(e+i.radius>d.canvas.w||e-i.radius<0)&&(i.vx=-i.vx),(t+i.radius>d.canvas.h||t-i.radius<0)&&(i.vy=-i.vy))}()):0==d.tmp.repulse_clicking&&(i.vx=i.vx_i,i.vy=i.vy_i))},d.fn.modes.grabParticle=function(e){var t,i;d.interactivity.events.onhover.enable&&"mousemove"==d.interactivity.status&&(i=e.x-d.interactivity.mouse.pos_x,t=e.y-d.interactivity.mouse.pos_y,(i=Math.sqrt(i*i+t*t))<=d.interactivity.modes.grab.distance&&(0<(t=d.interactivity.modes.grab.line_linked.opacity-i/(1/d.interactivity.modes.grab.line_linked.opacity)/d.interactivity.modes.grab.distance)&&(i=d.particles.line_linked.color_rgb_line,d.canvas.ctx.strokeStyle="rgba("+i.r+","+i.g+","+i.b+","+t+")",d.canvas.ctx.lineWidth=d.particles.line_linked.width,d.canvas.ctx.beginPath(),d.canvas.ctx.moveTo(e.x,e.y),d.canvas.ctx.lineTo(d.interactivity.mouse.pos_x,d.interactivity.mouse.pos_y),d.canvas.ctx.stroke(),d.canvas.ctx.closePath())))},d.fn.vendors.eventsListeners=function(){"window"==d.interactivity.detect_on?d.interactivity.el=window:d.interactivity.el=d.canvas.el,(d.interactivity.events.onhover.enable||d.interactivity.events.onclick.enable)&&(d.interactivity.el.addEventListener("mousemove",function(e){var t;e=d.interactivity.el==window?(t=e.clientX,e.clientY):(t=e.offsetX||e.clientX,e.offsetY||e.clientY),d.interactivity.mouse.pos_x=t,d.interactivity.mouse.pos_y=e,d.tmp.retina&&(d.interactivity.mouse.pos_x*=d.canvas.pxratio,d.interactivity.mouse.pos_y*=d.canvas.pxratio),d.interactivity.status="mousemove"}),d.interactivity.el.addEventListener("mouseleave",function(e){d.interactivity.mouse.pos_x=null,d.interactivity.mouse.pos_y=null,d.interactivity.status="mouseleave"})),d.interactivity.events.onclick.enable&&d.interactivity.el.addEventListener("click",function(){if(d.interactivity.mouse.click_pos_x=d.interactivity.mouse.pos_x,d.interactivity.mouse.click_pos_y=d.interactivity.mouse.pos_y,d.interactivity.mouse.click_time=(new Date).getTime(),d.interactivity.events.onclick.enable)switch(d.interactivity.events.onclick.mode){case"push":d.particles.move.enable||1==d.interactivity.modes.push.particles_nb?d.fn.modes.pushParticles(d.interactivity.modes.push.particles_nb,d.interactivity.mouse):1<d.interactivity.modes.push.particles_nb&&d.fn.modes.pushParticles(d.interactivity.modes.push.particles_nb);break;case"remove":d.fn.modes.removeParticles(d.interactivity.modes.remove.particles_nb);break;case"bubble":d.tmp.bubble_clicking=!0;break;case"repulse":d.tmp.repulse_clicking=!0,d.tmp.repulse_count=0,d.tmp.repulse_finish=!1,setTimeout(function(){d.tmp.repulse_clicking=!1},1e3*d.interactivity.modes.repulse.duration)}})},d.fn.vendors.densityAutoParticles=function(){var e;d.particles.number.density.enable&&(e=d.canvas.el.width*d.canvas.el.height/1e3,d.tmp.retina&&(e/=2*d.canvas.pxratio),e=e*d.particles.number.value/d.particles.number.density.value_area,(e=d.particles.array.length-e)<0?d.fn.modes.pushParticles(Math.abs(e)):d.fn.modes.removeParticles(e))},d.fn.vendors.checkOverlap=function(e,t){for(var i=0;i<d.particles.array.length;i++){var o=d.particles.array[i],r=e.x-o.x,n=e.y-o.y;Math.sqrt(r*r+n*n)<=e.radius+o.radius&&(e.x=t?t.x:Math.random()*d.canvas.w,e.y=t?t.y:Math.random()*d.canvas.h,d.fn.vendors.checkOverlap(e))}},d.fn.vendors.createSvgImg=function(r){var e=d.tmp.source_svg.replace(/#([0-9A-F]{3,6})/gi,function(e,t,i,o){return r.color.rgb?"rgba("+r.color.rgb.r+","+r.color.rgb.g+","+r.color.rgb.b+","+r.opacity+")":"hsla("+r.color.hsl.h+","+r.color.hsl.s+"%,"+r.color.hsl.l+"%,"+r.opacity+")"}),e=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),t=window.URL||window.webkitURL||window,i=t.createObjectURL(e),o=new Image;o.addEventListener("load",function(){r.img.obj=o,r.img.loaded=!0,t.revokeObjectURL(i),d.tmp.count_svg++}),o.src=i},d.fn.vendors.destroypJS=function(){cancelAnimationFrame(d.fn.drawAnimFrame),i.remove(),pJSDom=null},d.fn.vendors.drawShape=function(e,t,i,o,r,n){var s=r*n,n=r/n,n=180*(n-2)/n,a=Math.PI-Math.PI*n/180;e.save(),e.beginPath(),e.translate(t,i),e.moveTo(0,0);for(var l=0;l<s;l++)e.lineTo(o,0),e.translate(o,0),e.rotate(a);e.fill(),e.restore()},d.fn.vendors.exportImg=function(){window.open(d.canvas.el.toDataURL("image/png"),"_blank")},d.fn.vendors.loadImg=function(e){var t,i;d.tmp.img_error=void 0,""!=d.particles.shape.image.src?"svg"==e?((t=new XMLHttpRequest).open("GET",d.particles.shape.image.src),t.onreadystatechange=function(e){4==t.readyState&&(200==t.status?(d.tmp.source_svg=e.currentTarget.response,d.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),d.tmp.img_error=!0))},t.send()):((i=new Image).addEventListener("load",function(){d.tmp.img_obj=i,d.fn.vendors.checkBeforeDraw()}),i.src=d.particles.shape.image.src):(console.log("Error pJS - No image.src"),d.tmp.img_error=!0)},d.fn.vendors.draw=function(){"image"==d.particles.shape.type?"svg"==d.tmp.img_type?d.tmp.count_svg>=d.particles.number.value?(d.fn.particlesDraw(),d.particles.move.enable?d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw):cancelRequestAnimFrame(d.fn.drawAnimFrame)):d.tmp.img_error||(d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw)):null!=d.tmp.img_obj?(d.fn.particlesDraw(),d.particles.move.enable?d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw):cancelRequestAnimFrame(d.fn.drawAnimFrame)):d.tmp.img_error||(d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw)):(d.fn.particlesDraw(),d.particles.move.enable?d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw):cancelRequestAnimFrame(d.fn.drawAnimFrame))},d.fn.vendors.checkBeforeDraw=function(){"image"==d.particles.shape.type?"svg"==d.tmp.img_type&&null==d.tmp.source_svg?d.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(d.tmp.checkAnimFrame),d.tmp.img_error||(d.fn.vendors.init(),d.fn.vendors.draw())):(d.fn.vendors.init(),d.fn.vendors.draw())},d.fn.vendors.init=function(){d.fn.retinaInit(),d.fn.canvasInit(),d.fn.canvasSize(),d.fn.canvasPaint(),d.fn.particlesCreate(),d.fn.vendors.densityAutoParticles(),d.particles.line_linked.color_rgb_line=hexToRgb(d.particles.line_linked.color)},d.fn.vendors.start=function(){isInArray("image",d.particles.shape.type)?(d.tmp.img_type=d.particles.shape.image.src.substr(d.particles.shape.image.src.length-3),d.fn.vendors.loadImg(d.tmp.img_type)):d.fn.vendors.checkBeforeDraw()},d.fn.vendors.eventsListeners(),d.fn.vendors.start()};Object.deepExtend=function(e,t){for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(e[i]=e[i]||{},arguments.callee(e[i],t[i])):e[i]=t[i];return e},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},window.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,window.pJSDom=[],window.particlesJS=function(e,t){"string"!=typeof e&&(t=e,e="particles-js"),e=e||"particles-js";var i=document.getElementById(e),o="particles-js-canvas-el",r=i.getElementsByClassName(o);if(r.length)for(;0<r.length;)i.removeChild(r[0]);var n=document.createElement("canvas");n.className=o,n.style.width="100%",n.style.height="100%",null!=document.getElementById(e).appendChild(n)&&pJSDom.push(new pJS(e,t))},window.particlesJS.load=function(t,e,i){var o=new XMLHttpRequest;o.open("GET",e),o.onreadystatechange=function(e){4==o.readyState&&(200==o.status?(e=JSON.parse(e.currentTarget.response),window.particlesJS(t,e),i&&i()):(console.log("Error pJS - XMLHttpRequest status: "+o.status),console.log("Error pJS - File config not found")))},o.send()};